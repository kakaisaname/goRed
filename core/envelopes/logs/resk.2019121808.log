time="2019-12-18T08:47:41+08:00" level=info msg="[github.com/kakaisaname/infra.(*starterRegister).Register(infra@v0.1.0/starer.go:90)] Register starter: *base.PropsStarter" func="github.com/kakaisaname/infra.(*starterRegister).Register" file="infra@v0.1.0/starer.go:90"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra.(*starterRegister).Register(infra@v0.1.0/starer.go:90)] Register starter: *base.DbxDatabaseStarter" func="github.com/kakaisaname/infra.(*starterRegister).Register" file="infra@v0.1.0/starer.go:90"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra.(*starterRegister).Register(infra@v0.1.0/starer.go:90)] Register starter: *base.ValidatorStarter" func="github.com/kakaisaname/infra.(*starterRegister).Register" file="infra@v0.1.0/starer.go:90"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra.(*BootApplication).init(infra@v0.1.0/boot.go:38)] Initializing starters..." func="github.com/kakaisaname/infra.(*BootApplication).init" file="infra@v0.1.0/boot.go:38"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).init(infra@v0.1.0/boot.go:42)] Initializing: PriorityGroup=20,Priority=10000,type=*base.PropsStarter" func="github.com/kakaisaname/infra.(*BootApplication).init" file="infra@v0.1.0/boot.go:42"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).init(infra@v0.1.0/boot.go:42)] Initializing: PriorityGroup=20,Priority=10000,type=*base.DbxDatabaseStarter" func="github.com/kakaisaname/infra.(*BootApplication).init" file="infra@v0.1.0/boot.go:42"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).init(infra@v0.1.0/boot.go:42)] Initializing: PriorityGroup=20,Priority=10000,type=*base.ValidatorStarter" func="github.com/kakaisaname/infra.(*BootApplication).init" file="infra@v0.1.0/boot.go:42"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra.(*BootApplication).setup(infra@v0.1.0/boot.go:50)] Setup starters..." func="github.com/kakaisaname/infra.(*BootApplication).setup" file="infra@v0.1.0/boot.go:50"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).setup(infra@v0.1.0/boot.go:53)] Setup: *base.PropsStarter" func="github.com/kakaisaname/infra.(*BootApplication).setup" file="infra@v0.1.0/boot.go:53"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).setup(infra@v0.1.0/boot.go:53)] Setup: *base.DbxDatabaseStarter" func="github.com/kakaisaname/infra.(*BootApplication).setup" file="infra@v0.1.0/boot.go:53"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra/base.(*DbxDatabaseStarter).Setup(base/dbx.go:36)] mysql.conn url:root:***@tcp(47.108.69.137:3306)/po?loc=Local&parseTime=true&charset=utf8mb4&" func="github.com/kakaisaname/infra/base.(*DbxDatabaseStarter).Setup" file="base/dbx.go:36"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra/base.(*DbxDatabaseStarter).Setup(base/dbx.go:41)] <nil>" func="github.com/kakaisaname/infra/base.(*DbxDatabaseStarter).Setup" file="base/dbx.go:41"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).setup(infra@v0.1.0/boot.go:53)] Setup: *base.ValidatorStarter" func="github.com/kakaisaname/infra.(*BootApplication).setup" file="infra@v0.1.0/boot.go:53"
time="2019-12-18T08:47:42+08:00" level=info msg="[github.com/kakaisaname/infra.(*BootApplication).start(infra@v0.1.0/boot.go:62)] Starting starters..." func="github.com/kakaisaname/infra.(*BootApplication).start" file="infra@v0.1.0/boot.go:62"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).start(infra@v0.1.0/boot.go:65)] Starting: *base.PropsStarter" func="github.com/kakaisaname/infra.(*BootApplication).start" file="infra@v0.1.0/boot.go:65"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).start(infra@v0.1.0/boot.go:65)] Starting: *base.DbxDatabaseStarter" func="github.com/kakaisaname/infra.(*BootApplication).start" file="infra@v0.1.0/boot.go:65"
time="2019-12-18T08:47:42+08:00" level=debug msg="[github.com/kakaisaname/infra.(*BootApplication).start(infra@v0.1.0/boot.go:65)] Starting: *base.ValidatorStarter" func="github.com/kakaisaname/infra.(*BootApplication).start" file="infra@v0.1.0/boot.go:65"
time="2019-12-18T08:47:42+08:00" level=debug msg="\n"
time="2019-12-18T08:47:42+08:00" level=debug msg="\nQuery:          insert into `account`(`balance`,`account_name`,`user_id`,`username`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000220580), exp:0}, \"测试账户1\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", 1, \"CNY\", 1}\nTime taken:     0.01600s\nContext:        context.Background"
time="2019-12-18T08:47:42+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000220580), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000220580), exp:0}, 0, \"1V8M2d0i8alkreq0UZssNMKVHIG\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", 0, 0, \"账户创建\", \"1V8M2d0i8alkreq0UZssNMKVHIG\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\"}\nTime taken:     0.02850s\nContext:        context.Background"
time="2019-12-18T08:47:42+08:00" level=debug msg="\n"
time="2019-12-18T08:47:42+08:00" level=debug msg="\n"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_type`,`currency_code`,`status`,`account_no`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户2\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", sql.NullString{String:\"测试用户2\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000221b80), exp:0}, 1, \"CNY\", 1, \"1V8M2drpzO2emI1xW4tl9ZHpSYz\"}\nTime taken:     0.79450s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account_log`(`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户2\", \"1V8M2eS19x1413ZNoQ4XN0sHFQo\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", decimal.Decimal{value:(*big.Int)(0xc000221b80), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000221b80), exp:0}, 0, \"1V8M2eS19x1413ZNoQ4XN0sHFQo\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", 0, \"账户创建\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", \"测试用户2\", 0}\nTime taken:     0.03050s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\n"
time="2019-12-18T08:47:43+08:00" level=debug msg="\n"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_type`,`currency_code`,`status`,`account_no`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户3\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", sql.NullString{String:\"测试用户3\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000005000), exp:0}, 1, \"CNY\", 1, \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\"}\nTime taken:     0.01098s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{0, 0, \"账户创建\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", \"1V8M2mYppvKhMNBkKu2ihPRxhkW\", 0, decimal.Decimal{value:(*big.Int)(0xc000005000), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000005000), exp:0}, \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"1V8M2mYppvKhMNBkKu2ihPRxhkW\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\"}\nTime taken:     0.01148s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\n"
time="2019-12-18T08:47:43+08:00" level=debug msg="\n"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_type`,`currency_code`,`status`,`account_no`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户4\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", sql.NullString{String:\"测试用户4\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000066c20), exp:0}, 1, \"CNY\", 1, \"1V8M2klhe7VPUJCHXGIcM8xKhAM\"}\nTime taken:     0.01152s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000066c20), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000066c20), exp:0}, 0, \"1V8M2nYWrpWi1BeH8CTAcV5hyPh\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"测试用户4\", 0, 0, \"账户创建\", \"1V8M2nYWrpWi1BeH8CTAcV5hyPh\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"测试用户4\"}\nTime taken:     0.01252s\nContext:        context.Background"
time="2019-12-18T08:47:43+08:00" level=debug msg="\n"
time="2019-12-18T08:47:44+08:00" level=debug msg="\n"
time="2019-12-18T08:47:44+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2pzGAUniXwScucjvKeEExDS\", 1, \"CNY\", 1, \"测试账户5\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", sql.NullString{String:\"测试用户5\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000262300), exp:0}}\nTime taken:     0.04000s\nContext:        context.Background"
time="2019-12-18T08:47:44+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000262300), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000262300), exp:0}, 0, \"1V8M2s0cnnxnFugb1FzomTyM4dq\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\", 0, 0, \"账户创建\", \"1V8M2s0cnnxnFugb1FzomTyM4dq\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\"}\nTime taken:     0.04051s\nContext:        context.Background"
time="2019-12-18T08:47:44+08:00" level=debug msg="\n"
time="2019-12-18T08:47:45+08:00" level=debug msg="\n"
time="2019-12-18T08:47:45+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户6\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", sql.NullString{String:\"测试用户6\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000263d20), exp:0}, \"1V8M340jsYJMqKMhpo2Q5cewkg2\", 1, \"CNY\", 1}\nTime taken:     0.04050s\nContext:        context.Background"
time="2019-12-18T08:47:45+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2z86rcgEYCzKSQn39BJpfKe\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\", decimal.Decimal{value:(*big.Int)(0xc000263d20), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000263d20), exp:0}, 0, \"1V8M2z86rcgEYCzKSQn39BJpfKe\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\", 0, 0, \"账户创建\"}\nTime taken:     0.03800s\nContext:        context.Background"
time="2019-12-18T08:47:45+08:00" level=debug msg="\n"
time="2019-12-18T08:47:46+08:00" level=debug msg="\n"
time="2019-12-18T08:47:46+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户7\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", sql.NullString{String:\"测试用户7\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002ba1e0), exp:0}, \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", 1, \"CNY\", 1}\nTime taken:     0.04000s\nContext:        context.Background"
time="2019-12-18T08:47:46+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{0, \"账户创建\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"测试用户7\", 0, \"测试用户7\", \"1V8M3AGbRYagss4eJroWFMygPa6\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", decimal.Decimal{value:(*big.Int)(0xc0002ba1e0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002ba1e0), exp:0}, 0, \"1V8M3AGbRYagss4eJroWFMygPa6\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\"}\nTime taken:     0.03950s\nContext:        context.Background"
time="2019-12-18T08:47:46+08:00" level=debug msg="\n"
time="2019-12-18T08:47:47+08:00" level=debug msg="\n"
time="2019-12-18T08:47:47+08:00" level=debug msg="\nQuery:          insert into `account`(`user_id`,`username`,`balance`,`account_name`,`currency_code`,`status`,`account_no`,`account_type`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3AlUwyBFszdiDXeF2a7Yixr\", sql.NullString{String:\"测试用户8\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031bac0), exp:0}, \"测试账户8\", \"CNY\", 1, \"1V8M3DYqNYyJP89HvyYfOofjxc0\", 1}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:47:47+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3F3OOKdWG1GgKleeDoqegWg\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"账户创建\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"测试用户8\", 0, 0, \"1V8M3F3OOKdWG1GgKleeDoqegWg\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"测试用户8\", decimal.Decimal{value:(*big.Int)(0xc00031bac0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc00031bac0), exp:0}, 0}\nTime taken:     0.01850s\nContext:        context.Background"
time="2019-12-18T08:47:47+08:00" level=debug msg="\n"
time="2019-12-18T08:47:47+08:00" level=debug msg="\n"
time="2019-12-18T08:47:47+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户9\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", sql.NullString{String:\"测试用户9\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000066400), exp:0}, \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", 1, \"CNY\", 1}\nTime taken:     0.01450s\nContext:        context.Background"
time="2019-12-18T08:47:47+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3HL14Fsex6ItC9oUeBqW8wT\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\", decimal.Decimal{value:(*big.Int)(0xc000066400), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000066400), exp:0}, 0, \"1V8M3HL14Fsex6ItC9oUeBqW8wT\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\", 0, 0, \"账户创建\"}\nTime taken:     0.01650s\nContext:        context.Background"
time="2019-12-18T08:47:47+08:00" level=debug msg="\n"
time="2019-12-18T08:47:47+08:00" level=debug msg="\n"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_type`,`currency_code`,`status`,`account_no`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户10\", \"1V8M3GuED61r9edVkKYDidKvoJW\", sql.NullString{String:\"测试用户10\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002622e0), exp:0}, 1, \"CNY\", 1, \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\"}\nTime taken:     0.02900s\nContext:        context.Background"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"1V8M3LdQrKrmLqng51dbpCjdjKP\", \"测试用户10\", 0, 0, \"账户创建\", \"1V8M3GuED61r9edVkKYDidKvoJW\", \"1V8M3LdQrKrmLqng51dbpCjdjKP\", \"1V8M3GuED61r9edVkKYDidKvoJW\", \"测试用户10\", decimal.Decimal{value:(*big.Int)(0xc0002622e0), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc0002622e0), exp:0}}\nTime taken:     0.01505s\nContext:        context.Background"
time="2019-12-18T08:47:48+08:00" level=debug msg="\n"
time="2019-12-18T08:47:48+08:00" level=debug msg="\n"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`envelope_type`,`username`,`user_id`,`blessing`,`amount`,`amount_one`,`status`,`pay_status`,`envelope_no`,`quantity`,`remain_amount`,`remain_quantity`,`expired_at`,`order_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8M2gX40anzZutMEhjDyUOyE8P\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000263be0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002c8920), exp:-2}, 1, 2, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", 10, decimal.Decimal{value:(*big.Int)(0xc000263be0), exp:-1}, 10, time.Time{wall:0xbf76d00d2f666e74, ext:86407093644401, loc:(*time.Location)(0x1331160)}, 1}\nTime taken:     0.01200s\nContext:        context.Background"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"-18.8\"}\nTime taken:     0.01950s\nContext:        context.Background"
time="2019-12-18T08:47:48+08:00" level=debug msg="\n"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"系统红包账户\", -2, -1, \"红包金额支付\", \"10001\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc0002c9920), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc0002c95e0), exp:-1}, \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"1V8M3OyePDcTmzDgGRn9o9ICR46\"}\nTime taken:     0.01550s\nContext:        context.Background"
time="2019-12-18T08:47:48+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.02200s\nContext:        context.Background"
time="2019-12-18T08:47:49+08:00" level=debug msg="\n"
time="2019-12-18T08:47:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M3QtSN0g29pQPRaa7m2bB57d\", \"测试用户1\", 2, 1, \"红包金额支付\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002c9fe0), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc0002c95e0), exp:-1}}\nTime taken:     0.02100s\nContext:        context.Background"
time="2019-12-18T08:47:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.01501s\nContext:        context.Background"
time="2019-12-18T08:47:49+08:00" level=debug msg="\n"
time="2019-12-18T08:47:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3VgVU5x1hQap8bXbTxwTJNg\", \"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"红包金额转入\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", 2, 1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000263d60), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031a0a0), exp:-1}, 0}\nTime taken:     0.01600s\nContext:        context.Background"
time="2019-12-18T08:47:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"-18.8\"}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:47:49+08:00" level=debug msg="\n"
time="2019-12-18T08:47:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000263d60), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000220a60), exp:-1}, 0, \"1V8M3VsCLHNy8S6A3SKfQ5Q2uHy\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额转入\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:47:50+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.02250s\nContext:        context.Background"
time="2019-12-18T08:47:50+08:00" level=debug msg="\n"
time="2019-12-18T08:47:50+08:00" level=debug msg="\n"
time="2019-12-18T08:47:50+08:00" level=debug msg="\n"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.77200s\nContext:        context.Background"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2gX40anzZutMEhjDyUOyE8P\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", 2, \"1V8M3bUFcjpb9vjjyE0gMjxOaiu\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户1\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000005660), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc000005e00), exp:-2}, \"测试用户1的普通红包\"}\nTime taken:     0.02550s\nContext:        context.Background"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.02049s\nContext:        context.Background"
time="2019-12-18T08:47:51+08:00" level=debug msg="\n"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00016c400), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016c880), exp:-2}, 0, \"1V8M3o4erCiToF4z5DhLM8qTigU\", \"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1.88\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:47:51+08:00" level=debug msg="\n"
time="2019-12-18T08:47:51+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00016c400), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016cda0), exp:-2}, 0, \"1V8M3pAYtJIaicB08HvRlI35wP9\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:47:52+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1.88\"}\nTime taken:     0.01200s\nContext:        context.Background"
time="2019-12-18T08:47:52+08:00" level=debug msg="\n"
time="2019-12-18T08:47:52+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc00016d020), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016d5a0), exp:-2}, 0, \"1V8M3wXuk8ihjJpCIK9RuFhxdtx\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01301s\nContext:        context.Background"
time="2019-12-18T08:47:52+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01198s\nContext:        context.Background"
time="2019-12-18T08:47:52+08:00" level=debug msg="\n"
time="2019-12-18T08:47:52+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00016d020), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002ba1a0), exp:-2}, 0, \"1V8M3wFzPHliJo4JjGz0bLMG4BC\", \"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", -2, -1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:47:52+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 0" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:47:52+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M3bUFcjpb9vjjyE0gMjxOaiu EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户1 RecvUserId:1V8M2gX40anzZutMEhjDyUOyE8P Amount:1.88 Quantity:1 RemainAmount:16.92 AccountNo:1V8M2eizTBM0RFzL7KPLYOL4qIG PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:47:52+08:00" level=debug msg="\n"
time="2019-12-18T08:47:53+08:00" level=debug msg="\n"
time="2019-12-18T08:47:53+08:00" level=debug msg="\n"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.01400s\nContext:        context.Background"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000284280), exp:-2}, \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", 2, \"1V8M3ybt47VIryqzs0dsGGRQTUb\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户2\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000221d00), exp:-2}, 1, \"测试用户1的普通红包\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\"}\nTime taken:     0.01249s\nContext:        context.Background"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01000s\nContext:        context.Background"
time="2019-12-18T08:47:53+08:00" level=debug msg="\n"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000284440), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000284a80), exp:-2}, 0, \"1V8M42ROl9dFEqrNauFjf0Akxex\", \"10000020190101010000000000000001\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", \"测试用户2\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01148s\nContext:        context.Background"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"1.88\"}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:47:53+08:00" level=debug msg="\n"
time="2019-12-18T08:47:53+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3xnQPszwvm3Wn5EEIbxNOfR\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", \"测试用户2\", decimal.Decimal{value:(*big.Int)(0xc000284440), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002850a0), exp:-2}, 0}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:47:54+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"1.88\"}\nTime taken:     0.79474s\nContext:        context.Background"
time="2019-12-18T08:47:54+08:00" level=debug msg="\n"
time="2019-12-18T08:47:54+08:00" level=debug msg="\nQuery:          insert into `account_log`(`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`,`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", \"测试用户2\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", 0, decimal.Decimal{value:(*big.Int)(0xc000285440), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285740), exp:-2}, \"10000020190101010000000000000001\", \"1V8M3y7rfMb8O7ZLUPd4RjiJGXb\", \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", 2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.02913s\nContext:        context.Background"
time="2019-12-18T08:47:54+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01950s\nContext:        context.Background"
time="2019-12-18T08:47:54+08:00" level=debug msg="\n"
time="2019-12-18T08:47:54+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{-2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ZbAG8sSPpcDAs9BVjeNSE7\", \"测试用户2\", \"10001\", \"系统红包账户\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", 0, decimal.Decimal{value:(*big.Int)(0xc000285440), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285c60), exp:-2}, \"1V8M2drpzO2emI1xW4tl9ZHpSYz\", \"1V8M48vBHfII9a7u6rcd6ysHONS\", \"10000020190101010000000000000001\"}\nTime taken:     0.01999s\nContext:        context.Background"
time="2019-12-18T08:47:54+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 1" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:47:54+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M3ybt47VIryqzs0dsGGRQTUb EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户2 RecvUserId:1V8M2ZbAG8sSPpcDAs9BVjeNSE7 Amount:1.88 Quantity:1 RemainAmount:15.04 AccountNo:1V8M2drpzO2emI1xW4tl9ZHpSYz PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:47:54+08:00" level=debug msg="\n"
time="2019-12-18T08:47:55+08:00" level=debug msg="\n"
time="2019-12-18T08:47:55+08:00" level=debug msg="\n"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.01198s\nContext:        context.Background"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, \"1V8M4HPfPTjWGEop7nliZvPZ1gk\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户3\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00019a600), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc00019a940), exp:-2}, \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"测试用户1的普通红包\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\"}\nTime taken:     0.01600s\nContext:        context.Background"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01101s\nContext:        context.Background"
time="2019-12-18T08:47:55+08:00" level=debug msg="\n"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00019aae0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bad60), exp:-1}, 0, \"1V8M4Dx1CVTjHTaPcYFLCFZ5S9f\", \"10000020190101010000000000000001\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", -2, -1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01200s\nContext:        context.Background"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"1.88\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:47:55+08:00" level=debug msg="\n"
time="2019-12-18T08:47:55+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"10000020190101010000000000000001\", \"1V8M4FtLfusEm6v50OhSkO2fieF\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", decimal.Decimal{value:(*big.Int)(0xc00031a940), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc00019aae0), exp:-2}}\nTime taken:     0.01149s\nContext:        context.Background"
time="2019-12-18T08:47:56+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"1.88\"}\nTime taken:     0.01861s\nContext:        context.Background"
time="2019-12-18T08:47:56+08:00" level=debug msg="\n"
time="2019-12-18T08:47:56+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", decimal.Decimal{value:(*big.Int)(0xc0002bafc0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bb2c0), exp:-2}, 0, \"1V8M4PPvLnOLaSpCSQioAF5Po1C\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01801s\nContext:        context.Background"
time="2019-12-18T08:47:56+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01297s\nContext:        context.Background"
time="2019-12-18T08:47:56+08:00" level=debug msg="\n"
time="2019-12-18T08:47:56+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002bafc0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bb7e0), exp:-2}, 0, \"1V8M4R5pnh6FtTDyt5Dowur5eUT\", \"10000020190101010000000000000001\", \"1V8M2kkR8sdPBSZBPHo2oMjH1LM\", \"1V8M2mi2fWHfTuKRmRaji5UqSKY\", \"测试用户3\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.02150s\nContext:        context.Background"
time="2019-12-18T08:47:56+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 2" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:47:56+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M4HPfPTjWGEop7nliZvPZ1gk EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户3 RecvUserId:1V8M2mi2fWHfTuKRmRaji5UqSKY Amount:1.88 Quantity:1 RemainAmount:13.16 AccountNo:1V8M2kkR8sdPBSZBPHo2oMjH1LM PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:47:56+08:00" level=debug msg="\n"
time="2019-12-18T08:47:57+08:00" level=debug msg="\n"
time="2019-12-18T08:47:57+08:00" level=debug msg="\n"
time="2019-12-18T08:47:57+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.01258s\nContext:        context.Background"
time="2019-12-18T08:47:57+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031b520), exp:-2}, \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", 2, \"1V8M4SVCmz16ZgTCId9YEUvgOE3\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户4\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031b140), exp:-2}, 1, \"测试用户1的普通红包\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\"}\nTime taken:     0.01106s\nContext:        context.Background"
time="2019-12-18T08:47:57+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01399s\nContext:        context.Background"
time="2019-12-18T08:47:57+08:00" level=debug msg="\n"
time="2019-12-18T08:47:57+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户4\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000220760), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc00016c240), exp:-2}, \"10000020190101010000000000000001\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1V8M4XqusDwKccEzpQzCXkzFl0Z\"}\nTime taken:     0.01100s\nContext:        context.Background"
time="2019-12-18T08:47:57+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1.88\"}\nTime taken:     0.01402s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=debug msg="\n"
time="2019-12-18T08:47:58+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc00016c240), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016c880), exp:-2}, 0, \"1V8M4SwGRoOAHkz9cY54CCjibov\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.02501s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1.88\"}\nTime taken:     0.01800s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=debug msg="\n"
time="2019-12-18T08:47:58+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc00016cb00), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016ce20), exp:-2}, 0, \"1V8M4gbrGWUV0i7fkpo9j53Ajts\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"10000020190101010000000000000001\", \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, 1}\nTime taken:     0.01355s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01355s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=debug msg="\n"
time="2019-12-18T08:47:58+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户4\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2ipyluk2cPNXtjEfKQPF6d2\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00016d6a0), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc00016cb00), exp:-2}, \"10000020190101010000000000000001\", \"1V8M2klhe7VPUJCHXGIcM8xKhAM\", \"1V8M4dc9ymGDcthtyKgh66dvWrE\"}\nTime taken:     0.01151s\nContext:        context.Background"
time="2019-12-18T08:47:58+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 3" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:47:58+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M4SVCmz16ZgTCId9YEUvgOE3 EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户4 RecvUserId:1V8M2ipyluk2cPNXtjEfKQPF6d2 Amount:1.88 Quantity:1 RemainAmount:11.28 AccountNo:1V8M2klhe7VPUJCHXGIcM8xKhAM PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:47:58+08:00" level=debug msg="\n"
time="2019-12-18T08:47:59+08:00" level=debug msg="\n"
time="2019-12-18T08:47:59+08:00" level=debug msg="\n"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.01104s\nContext:        context.Background"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, \"1V8M4kEbmN7LO8w4EKo2YhHWJRE\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户5\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000005620), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc000005fa0), exp:-2}, \"1V8M2pzGAUniXwScucjvKeEExDS\", \"测试用户1的普通红包\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\"}\nTime taken:     0.02199s\nContext:        context.Background"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01101s\nContext:        context.Background"
time="2019-12-18T08:47:59+08:00" level=debug msg="\n"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000066b60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000067720), exp:-2}, 0, \"1V8M4nEIrH4RQQnqvwhwsVUmFML\", \"10000020190101010000000000000001\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1.88\"}\nTime taken:     0.01055s\nContext:        context.Background"
time="2019-12-18T08:47:59+08:00" level=debug msg="\n"
time="2019-12-18T08:47:59+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\", decimal.Decimal{value:(*big.Int)(0xc000066b60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000262440), exp:-2}, 0, \"1V8M4mWwYthuY0uZxzotCsZEMwF\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"10000020190101010000000000000001\", \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, 1}\nTime taken:     0.01499s\nContext:        context.Background"
time="2019-12-18T08:48:00+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1.88\"}\nTime taken:     0.02501s\nContext:        context.Background"
time="2019-12-18T08:48:00+08:00" level=debug msg="\n"
time="2019-12-18T08:48:00+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\", decimal.Decimal{value:(*big.Int)(0xc000262ac0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000263c60), exp:-2}, 0, \"1V8M4x8qx1Rcae1GvVFqmEjy0tt\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"10000020190101010000000000000001\", \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, 1}\nTime taken:     0.01850s\nContext:        context.Background"
time="2019-12-18T08:48:00+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01700s\nContext:        context.Background"
time="2019-12-18T08:48:00+08:00" level=debug msg="\n"
time="2019-12-18T08:48:00+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000262ac0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c81c0), exp:0}, 0, \"1V8M4sECptTmBsdZzjp6cxsPvCi\", \"10000020190101010000000000000001\", \"1V8M2pzGAUniXwScucjvKeEExDS\", \"1V8M2npVLnE8zkSbZYiVmxwmTuq\", \"测试用户5\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.03450s\nContext:        context.Background"
time="2019-12-18T08:48:00+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 4" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:00+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M4kEbmN7LO8w4EKo2YhHWJRE EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户5 RecvUserId:1V8M2npVLnE8zkSbZYiVmxwmTuq Amount:1.88 Quantity:1 RemainAmount:9.4 AccountNo:1V8M2pzGAUniXwScucjvKeEExDS PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:00+08:00" level=debug msg="\n"
time="2019-12-18T08:48:01+08:00" level=debug msg="\n"
time="2019-12-18T08:48:01+08:00" level=debug msg="\n"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2w5OG3w5g65M56ABibOj3uI\", \"1V8M50zUDyRTG2FYXAc2fvZxK8V\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户6\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000284a00), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc0002c8c60), exp:-2}, \"1V8M340jsYJMqKMhpo2Q5cewkg2\", 2, \"测试用户1的普通红包\"}\nTime taken:     0.02100s\nContext:        context.Background"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01350s\nContext:        context.Background"
time="2019-12-18T08:48:01+08:00" level=debug msg="\n"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{-1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\", -2, \"系统红包账户\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", decimal.Decimal{value:(*big.Int)(0xc0002c9040), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c9380), exp:-2}, 0, \"1V8M4zLKTG8i7BHtmt34SvsG2aJ\", \"10000020190101010000000000000001\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\"}\nTime taken:     0.01449s\nContext:        context.Background"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"1.88\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:48:01+08:00" level=debug msg="\n"
time="2019-12-18T08:48:01+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\", decimal.Decimal{value:(*big.Int)(0xc0002c9040), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c9900), exp:-2}, 0, \"1V8M513gNR6tnB1TcAbVAFIV71E\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:02+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"1.88\"}\nTime taken:     0.01449s\nContext:        context.Background"
time="2019-12-18T08:48:02+08:00" level=debug msg="\n"
time="2019-12-18T08:48:02+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c9c80), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002ba080), exp:-2}, 0, \"1V8M57whfx6ITgP0TndphYcHhqh\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\"}\nTime taken:     0.01450s\nContext:        context.Background"
time="2019-12-18T08:48:02+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:02+08:00" level=debug msg="\n"
time="2019-12-18T08:48:02+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2w5OG3w5g65M56ABibOj3uI\", \"测试用户6\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002c9c80), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002210a0), exp:-2}, 0, \"1V8M56VFVfkuaSuxB74GSZp97fy\", \"10000020190101010000000000000001\", \"1V8M340jsYJMqKMhpo2Q5cewkg2\"}\nTime taken:     0.01650s\nContext:        context.Background"
time="2019-12-18T08:48:02+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 5" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:02+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M50zUDyRTG2FYXAc2fvZxK8V EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户6 RecvUserId:1V8M2w5OG3w5g65M56ABibOj3uI Amount:1.88 Quantity:1 RemainAmount:7.52 AccountNo:1V8M340jsYJMqKMhpo2Q5cewkg2 PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:02+08:00" level=debug msg="\n"
time="2019-12-18T08:48:02+08:00" level=debug msg="\n"
time="2019-12-18T08:48:02+08:00" level=debug msg="\n"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.02550s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", 2, \"1V8M5CmQreVle0eWKpDBmNMAkOS\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户7\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031a540), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc00031a880), exp:-2}, \"测试用户1的普通红包\"}\nTime taken:     0.02249s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01552s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\n"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00031aa20), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031ad60), exp:-2}, 0, \"1V8M5GWAjpvQyuftCP1wdaRcXHW\", \"10000020190101010000000000000001\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"测试用户7\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\"}\nTime taken:     0.01350s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"1.88\"}\nTime taken:     0.01102s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\n"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"测试用户7\", decimal.Decimal{value:(*big.Int)(0xc00031aa20), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002ba740), exp:-2}, 0, \"1V8M5G4Ngmp89Xy7kqvciurhj6P\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"10000020190101010000000000000001\"}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:03+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"1.88\"}\nTime taken:     0.01101s\nContext:        context.Background"
time="2019-12-18T08:48:04+08:00" level=debug msg="\n"
time="2019-12-18T08:48:04+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"测试用户7\", decimal.Decimal{value:(*big.Int)(0xc0002ba9a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002baca0), exp:-2}, 0, \"1V8M5D3n8mgyl2ou6ZC1VPG6BxW\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\", \"10000020190101010000000000000001\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:48:04+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01499s\nContext:        context.Background"
time="2019-12-18T08:48:04+08:00" level=debug msg="\n"
time="2019-12-18T08:48:04+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M2xQTXyjPj9AGHLLss8nQTqw\", \"测试用户7\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002ba9a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bb1c0), exp:-2}, 0, \"1V8M5PYOoMlTBZPX4t7bubKeEiN\", \"10000020190101010000000000000001\", \"1V8M37Abwkj5NHkhliWOJrc2nVQ\"}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:48:04+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 6" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:04+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M5CmQreVle0eWKpDBmNMAkOS EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户7 RecvUserId:1V8M2xQTXyjPj9AGHLLss8nQTqw Amount:1.88 Quantity:1 RemainAmount:5.64 AccountNo:1V8M37Abwkj5NHkhliWOJrc2nVQ PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:04+08:00" level=debug msg="\n"
time="2019-12-18T08:48:04+08:00" level=debug msg="\n"
time="2019-12-18T08:48:04+08:00" level=debug msg="\n"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.78649s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户8\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002bb600), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc000285780), exp:-2}, \"1V8M3DYqNYyJP89HvyYfOofjxc0\", 2, \"1V8M5OuNDBJZRjbrGDZFJnNTWGn\", \"测试用户1的普通红包\"}\nTime taken:     0.01996s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01149s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\n"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{-1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"测试用户8\", -2, \"系统红包账户\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", decimal.Decimal{value:(*big.Int)(0xc000285920), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285c60), exp:-1}, 0, \"1V8M5XFGaHfQHiGoedb2S0QlQFn\", \"10000020190101010000000000000001\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\"}\nTime taken:     0.01156s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"1.88\"}\nTime taken:     0.01198s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\n"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, \"测试用户8\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", decimal.Decimal{value:(*big.Int)(0xc000285920), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0003b0140), exp:-2}, 0, \"1V8M5SolOG4uiHPq38s7DLzDcLZ\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"10000020190101010000000000000001\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"1.88\"}\nTime taken:     0.01350s\nContext:        context.Background"
time="2019-12-18T08:48:05+08:00" level=debug msg="\n"
time="2019-12-18T08:48:05+08:00" level=debug msg="\nQuery:          insert into `account_log`(`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, 1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"测试用户8\", decimal.Decimal{value:(*big.Int)(0xc0003b03a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0003b06a0), exp:-2}, 0, \"1V8M5XfCRgwilGviBLLZ6EqxpNp\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"10000020190101010000000000000001\"}\nTime taken:     0.01000s\nContext:        context.Background"
time="2019-12-18T08:48:06+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.79979s\nContext:        context.Background"
time="2019-12-18T08:48:06+08:00" level=debug msg="\n"
time="2019-12-18T08:48:06+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0003b0bc0), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc0003b03a0), exp:-2}, \"10000020190101010000000000000001\", \"1V8M3DYqNYyJP89HvyYfOofjxc0\", \"1V8M5TvHAKZQDKISPH8IRfNShJm\", \"测试用户8\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3AlUwyBFszdiDXeF2a7Yixr\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.02819s\nContext:        context.Background"
time="2019-12-18T08:48:06+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 7" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:06+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M5OuNDBJZRjbrGDZFJnNTWGn EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户8 RecvUserId:1V8M3AlUwyBFszdiDXeF2a7Yixr Amount:1.88 Quantity:1 RemainAmount:3.76 AccountNo:1V8M3DYqNYyJP89HvyYfOofjxc0 PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:06+08:00" level=debug msg="\n"
time="2019-12-18T08:48:06+08:00" level=debug msg="\n"
time="2019-12-18T08:48:06+08:00" level=debug msg="\n"
time="2019-12-18T08:48:07+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.81129s\nContext:        context.Background"
time="2019-12-18T08:48:07+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, \"1V8M5c1wPl3bupZGKG4vvaBMDo0\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", sql.NullString{String:\"测试用户9\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031b720), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc00031ba80), exp:-2}, \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"测试用户1的普通红包\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\"}\nTime taken:     0.02800s\nContext:        context.Background"
time="2019-12-18T08:48:07+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:48:07+08:00" level=debug msg="\n"
time="2019-12-18T08:48:07+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00031bc20), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031bf60), exp:-2}, 0, \"1V8M5k80jHyfCIlM5dnbILfdDxq\", \"10000020190101010000000000000001\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:48:07+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"1.88\"}\nTime taken:     0.03248s\nContext:        context.Background"
time="2019-12-18T08:48:08+08:00" level=debug msg="\n"
time="2019-12-18T08:48:08+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031bc20), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000580440), exp:-2}, 0, \"1V8M5mULHGjWUJkdMMDHjkZFRVT\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\"}\nTime taken:     0.03050s\nContext:        context.Background"
time="2019-12-18T08:48:08+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\", \"1.88\"}\nTime taken:     0.02150s\nContext:        context.Background"
time="2019-12-18T08:48:08+08:00" level=debug msg="\n"
time="2019-12-18T08:48:08+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, 1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", 0, decimal.Decimal{value:(*big.Int)(0xc0005806a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005809a0), exp:-2}, \"10000020190101010000000000000001\", \"1V8M5scafHpsRqw61mSUrFseHwP\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\"}\nTime taken:     0.02100s\nContext:        context.Background"
time="2019-12-18T08:48:08+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.01999s\nContext:        context.Background"
time="2019-12-18T08:48:08+08:00" level=debug msg="\n"
time="2019-12-18T08:48:09+08:00" level=debug msg="\nQuery:          insert into `account_log`(`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3Ci6ApKjPomxkdhRSiZvKqX\", \"测试用户9\", -2, -1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0005806a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0003b1400), exp:-2}, 0, \"1V8M5xMGM4JTW27e25xOg6SEFQQ\", \"10000020190101010000000000000001\", \"1V8M3GrY8VIT7NxMPH5CpYGnbgp\"}\nTime taken:     0.80114s\nContext:        context.Background"
time="2019-12-18T08:48:09+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 8" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:09+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M5c1wPl3bupZGKG4vvaBMDo0 EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户9 RecvUserId:1V8M3Ci6ApKjPomxkdhRSiZvKqX Amount:1.88 Quantity:1 RemainAmount:1.88 AccountNo:1V8M3GrY8VIT7NxMPH5CpYGnbgp PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:09+08:00" level=debug msg="\n"
time="2019-12-18T08:48:09+08:00" level=debug msg="\n"
time="2019-12-18T08:48:09+08:00" level=debug msg="\n"
time="2019-12-18T08:48:09+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1.88\"}\nTime taken:     0.02009s\nContext:        context.Background"
time="2019-12-18T08:48:10+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{sql.NullString{String:\"测试用户10\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002bbc00), exp:-2}, 1, decimal.Decimal{value:(*big.Int)(0xc0002bbfe0), exp:-2}, \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", 2, \"1V8M61WH5gyk2Dwo483o5MgDOVK\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"测试用户1的普通红包\", \"1V8M3GuED61r9edVkKYDidKvoJW\"}\nTime taken:     0.78564s\nContext:        context.Background"
time="2019-12-18T08:48:10+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.03000s\nContext:        context.Background"
time="2019-12-18T08:48:10+08:00" level=debug msg="\n"
time="2019-12-18T08:48:10+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M3GuED61r9edVkKYDidKvoJW\", \"测试用户10\", -2, -1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000590180), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005904c0), exp:-2}, 0, \"1V8M67sLEJQbMlq761bgvbVBrY0\", \"10000020190101010000000000000001\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\"}\nTime taken:     0.01900s\nContext:        context.Background"
time="2019-12-18T08:48:10+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"1.88\"}\nTime taken:     0.02198s\nContext:        context.Background"
time="2019-12-18T08:48:10+08:00" level=debug msg="\n"
time="2019-12-18T08:48:10+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, 1, \"红包扣减：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", \"1V8M3GuED61r9edVkKYDidKvoJW\", \"测试用户10\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", 0, decimal.Decimal{value:(*big.Int)(0xc000590180), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005909a0), exp:-2}, \"10000020190101010000000000000001\", \"1V8M6ApUybjXiRBhTQ3VuibOllE\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:48:11+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"1.88\"}\nTime taken:     0.04013s\nContext:        context.Background"
time="2019-12-18T08:48:11+08:00" level=debug msg="\n"
time="2019-12-18T08:48:11+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6GUyCaXgGzK6qA9SEzntWRC\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"10000020190101010000000000000001\", \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\", 2, 1, \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3GuED61r9edVkKYDidKvoJW\", \"测试用户10\", decimal.Decimal{value:(*big.Int)(0xc000590c00), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0003b1ee0), exp:-2}, 0}\nTime taken:     0.01999s\nContext:        context.Background"
time="2019-12-18T08:48:11+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.02105s\nContext:        context.Background"
time="2019-12-18T08:48:11+08:00" level=debug msg="\n"
time="2019-12-18T08:48:11+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000590c00), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031a400), exp:-1}, 0, \"1V8M6FrkywGqTpg8TjclHCTFjCh\", \"10000020190101010000000000000001\", \"1V8M3M4ZT3xkhfpDAm3eF0KcbJj\", \"1V8M3GuED61r9edVkKYDidKvoJW\", \"测试用户10\", -2, -1, \"红包收入：1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"1V8M3QGvXJrOFQfwWg5maZGgKR9\", \"10001\", \"系统红包账户\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:48:11+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:72)] 9" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:72"
time="2019-12-18T08:48:11+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1(envelopes/service_recieve_test.go:73)] &{ItemNo:1V8M61WH5gyk2Dwo483o5MgDOVK EnvelopeNo:1V8M3QGvXJrOFQfwWg5maZGgKR9 RecvUsername:测试用户10 RecvUserId:1V8M3GuED61r9edVkKYDidKvoJW Amount:1.88 Quantity:1 RemainAmount:0 AccountNo:1V8M3M4ZT3xkhfpDAm3eF0KcbJj PayStatus:2 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC IsLuckiest:false Desc:测试用户1的普通红包}" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.1 file="envelopes/service_recieve_test.go:73"
time="2019-12-18T08:48:11+08:00" level=debug msg="\n"
time="2019-12-18T08:48:12+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`amount`,`amount_one`,`status`,`pay_status`,`username`,`user_id`,`blessing`,`remain_quantity`,`expired_at`,`order_type`,`envelope_no`,`quantity`,`remain_amount`,`envelope_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031a940), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031ac40), exp:0}, 1, 2, sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8M2gX40anzZutMEhjDyUOyE8P\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, 10, time.Time{wall:0xbf76d01328ca34b0, ext:86430982742801, loc:(*time.Location)(0x1331160)}, 1, \"1V8M6Oeu2TKCzmZFXBzQOA6iARc\", 10, decimal.Decimal{value:(*big.Int)(0xc00031a940), exp:-1}, 2}\nTime taken:     0.01899s\nContext:        context.Background"
time="2019-12-18T08:48:12+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"-18.8\"}\nTime taken:     0.01849s\nContext:        context.Background"
time="2019-12-18T08:48:12+08:00" level=debug msg="\n"
time="2019-12-18T08:48:12+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6Oeu2TKCzmZFXBzQOA6iARc\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc00031ae80), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031b1c0), exp:-2}, 0, \"1V8M6La8P2YcNTznfxMy4x0Biyo\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额支付\"}\nTime taken:     0.02152s\nContext:        context.Background"
time="2019-12-18T08:48:12+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.01750s\nContext:        context.Background"
time="2019-12-18T08:48:12+08:00" level=debug msg="\n"
time="2019-12-18T08:48:12+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031ae80), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002ba3e0), exp:0}, 0, \"1V8M6OGDxqXYcIRY53rN1a9U4gG\", \"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", 2, 1, \"红包金额支付\", \"1V8M6Oeu2TKCzmZFXBzQOA6iARc\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01698s\nContext:        context.Background"
time="2019-12-18T08:48:13+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.76965s\nContext:        context.Background"
time="2019-12-18T08:48:13+08:00" level=debug msg="\n"
time="2019-12-18T08:48:13+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002ba6e0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002842e0), exp:-1}, 0, \"1V8M6NQt6Tr3vQn1x7h2ORPsfkr\", \"10000020190101010000000000000001\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", 2, 1, \"红包金额转入\", \"1V8M6Oeu2TKCzmZFXBzQOA6iARc\", \"10001\", \"系统红包账户\"}\nTime taken:     0.03465s\nContext:        context.Background"
time="2019-12-18T08:48:13+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"-18.8\"}\nTime taken:     0.01803s\nContext:        context.Background"
time="2019-12-18T08:48:13+08:00" level=debug msg="\n"
time="2019-12-18T08:48:13+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6YQ0xfGtd6sFPzATl5zqQW6\", \"1V8M2eizTBM0RFzL7KPLYOL4qIG\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额转入\", \"1V8M6Oeu2TKCzmZFXBzQOA6iARc\", \"1V8M2gX40anzZutMEhjDyUOyE8P\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc0002ba6e0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031b600), exp:-2}, 0}\nTime taken:     0.03050s\nContext:        context.Background"
time="2019-12-18T08:48:14+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8M6Oeu2TKCzmZFXBzQOA6iARc\"}\nTime taken:     0.02056s\nContext:        context.Background"
time="2019-12-18T08:48:14+08:00" level=debug msg="\n"
time="2019-12-18T08:48:14+08:00" level=debug msg="\nQuery:          insert into `account`(`currency_code`,`status`,`account_no`,`account_type`,`user_id`,`username`,`balance`,`account_name`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"CNY\", 1, \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", 1, \"1V8M6bGWng2LOmMvImSzs7eUAFo\", sql.NullString{String:\"测试用户1\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000284b40), exp:0}, \"测试账户1\"}\nTime taken:     0.01649s\nContext:        context.Background"
time="2019-12-18T08:48:14+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6eItzmqmQACdX8vefsd9cA7\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", 0, \"账户创建\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", 0, \"测试用户1\", \"1V8M6eItzmqmQACdX8vefsd9cA7\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", decimal.Decimal{value:(*big.Int)(0xc000284b40), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000284b40), exp:0}, 0}\nTime taken:     0.01350s\nContext:        context.Background"
time="2019-12-18T08:48:14+08:00" level=debug msg="\n"
time="2019-12-18T08:48:14+08:00" level=debug msg="\n"
time="2019-12-18T08:48:14+08:00" level=debug msg="\nQuery:          insert into `account`(`account_type`,`currency_code`,`status`,`account_no`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"CNY\", 1, \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"测试账户2\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", sql.NullString{String:\"测试用户2\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002855a0), exp:0}}\nTime taken:     0.01652s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6iKwaUsMB4RADiGENehbPom\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", decimal.Decimal{value:(*big.Int)(0xc0002855a0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002855a0), exp:0}, 0, \"1V8M6iKwaUsMB4RADiGENehbPom\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", 0, 0, \"账户创建\"}\nTime taken:     0.82904s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户3\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", sql.NullString{String:\"测试用户3\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000285d80), exp:0}, \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", 1, \"CNY\", 1}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"1V8M6oLxQD0bRbtXo9ERz3s9XdR\", \"测试用户3\", 0, 0, \"账户创建\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"1V8M6oLxQD0bRbtXo9ERz3s9XdR\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"测试用户3\", decimal.Decimal{value:(*big.Int)(0xc000285d80), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc000285d80), exp:0}}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`balance`,`account_name`,`user_id`,`username`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", 1, \"CNY\", 1, decimal.Decimal{value:(*big.Int)(0xc0002c8540), exp:0}, \"测试账户4\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", sql.NullString{String:\"测试用户4\", Valid:true}}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account_log`(`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"账户创建\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", 0, 0, \"1V8M6pHK19NZMnZiDACXmx7yIfC\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc0002c8540), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002c8540), exp:0}, 0, \"1V8M6pHK19NZMnZiDACXmx7yIfC\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\"}\nTime taken:     0.00900s\nContext:        context.Background"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\n"
time="2019-12-18T08:48:15+08:00" level=debug msg="\nQuery:          insert into `account`(`account_type`,`currency_code`,`status`,`account_no`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"CNY\", 1, \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"测试账户5\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", sql.NullString{String:\"测试用户5\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031b900), exp:0}}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:16+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031b900), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc00031b900), exp:0}, \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"1V8M6mu4Fd8xjhR9C9nGsqjt2v9\", \"测试用户5\", 0, 0, \"账户创建\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"1V8M6mu4Fd8xjhR9C9nGsqjt2v9\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"测试用户5\"}\nTime taken:     0.78000s\nContext:        context.Background"
time="2019-12-18T08:48:16+08:00" level=debug msg="\n"
time="2019-12-18T08:48:16+08:00" level=debug msg="\n"
time="2019-12-18T08:48:16+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户6\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", sql.NullString{String:\"测试用户6\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002ba8e0), exp:0}, \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", 1, \"CNY\", 1}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:48:16+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002ba8e0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002ba8e0), exp:0}, 0, \"1V8M6xF2HrFYCPUUUzh1PQkQL6D\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", 0, \"账户创建\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", \"测试用户6\", 0, \"测试用户6\", \"1V8M6xF2HrFYCPUUUzh1PQkQL6D\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\"}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:48:16+08:00" level=debug msg="\n"
time="2019-12-18T08:48:16+08:00" level=debug msg="\n"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6w8aSFAggF3D7uxRGf3dXPN\", 1, \"CNY\", 1, \"测试账户7\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", sql.NullString{String:\"测试用户7\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000263c00), exp:0}}\nTime taken:     0.02200s\nContext:        context.Background"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{0, \"账户创建\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", \"测试用户7\", 0, \"测试用户7\", \"1V8M6rUDGOmjep0W0YNYhnUXWF9\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", decimal.Decimal{value:(*big.Int)(0xc000263c00), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000263c00), exp:0}, 0, \"1V8M6rUDGOmjep0W0YNYhnUXWF9\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\"}\nTime taken:     0.02450s\nContext:        context.Background"
time="2019-12-18T08:48:17+08:00" level=debug msg="\n"
time="2019-12-18T08:48:17+08:00" level=debug msg="\n"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M71s54pYwx3YPoqna8jPAs79\", 1, \"CNY\", 1, \"测试账户8\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", sql.NullString{String:\"测试用户8\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000066fe0), exp:0}}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户8\", 0, 0, \"账户创建\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"1V8M73NgqAhICDCquKVBuGXWJh9\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"测试用户8\", decimal.Decimal{value:(*big.Int)(0xc000066fe0), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc000066fe0), exp:0}, \"1V8M71s54pYwx3YPoqna8jPAs79\", \"1V8M71s54pYwx3YPoqna8jPAs79\", \"1V8M73NgqAhICDCquKVBuGXWJh9\"}\nTime taken:     0.01102s\nContext:        context.Background"
time="2019-12-18T08:48:17+08:00" level=debug msg="\n"
time="2019-12-18T08:48:17+08:00" level=debug msg="\n"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", 1, \"CNY\", 1, \"测试账户9\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", sql.NullString{String:\"测试用户9\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000004880), exp:0}}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:17+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000004880), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000004880), exp:0}, 0, \"1V8M70Xd6gv2GOv8BnV70Bk7HjR\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"测试用户9\", 0, 0, \"账户创建\", \"1V8M70Xd6gv2GOv8BnV70Bk7HjR\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"测试用户9\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:18+08:00" level=debug msg="\n"
time="2019-12-18T08:48:18+08:00" level=debug msg="\n"
time="2019-12-18T08:48:18+08:00" level=debug msg="\nQuery:          insert into `account`(`account_name`,`user_id`,`username`,`balance`,`account_no`,`account_type`,`currency_code`,`status`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试账户10\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", sql.NullString{String:\"测试用户10\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002c96a0), exp:0}, \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", 1, \"CNY\", 1}\nTime taken:     0.02052s\nContext:        context.Background"
time="2019-12-18T08:48:18+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c96a0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002c96a0), exp:0}, 0, \"1V8M77n6igCd3nq2TzgvFfyEOXT\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", 0, \"账户创建\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", \"测试用户10\", 0, \"测试用户10\", \"1V8M77n6igCd3nq2TzgvFfyEOXT\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\"}\nTime taken:     0.01949s\nContext:        context.Background"
time="2019-12-18T08:48:18+08:00" level=debug msg="\n"
time="2019-12-18T08:48:19+08:00" level=debug msg="\n"
time="2019-12-18T08:48:19+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`amount`,`amount_one`,`status`,`pay_status`,`username`,`user_id`,`blessing`,`remain_quantity`,`expired_at`,`order_type`,`envelope_no`,`quantity`,`remain_amount`,`envelope_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c9720), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002bb0c0), exp:-2}, 1, 2, sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8M6bGWng2LOmMvImSzs7eUAFo\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, 10, time.Time{wall:0xbf76d014ea9a32b8, ext:86438013150901, loc:(*time.Location)(0x1331160)}, 1, \"1V8M7J4wTXeK1gtSggZvM6IxD7g\", 10, decimal.Decimal{value:(*big.Int)(0xc0002c9720), exp:-1}, 1}\nTime taken:     0.02099s\nContext:        context.Background"
time="2019-12-18T08:48:19+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"-18.8\"}\nTime taken:     0.02150s\nContext:        context.Background"
time="2019-12-18T08:48:19+08:00" level=debug msg="\n"
time="2019-12-18T08:48:19+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_account_no`,`log_no`,`account_no`,`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10000020190101010000000000000001\", \"1V8M7JZVXPW0Z7vqmdVhpGFE55i\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", -2, -1, \"红包金额支付\", \"10001\", \"系统红包账户\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", \"1V8M7J4wTXeK1gtSggZvM6IxD7g\", 0, decimal.Decimal{value:(*big.Int)(0xc0002bb280), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002bb5c0), exp:-1}}\nTime taken:     0.01916s\nContext:        context.Background"
time="2019-12-18T08:48:19+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.01899s\nContext:        context.Background"
time="2019-12-18T08:48:20+08:00" level=debug msg="\n"
time="2019-12-18T08:48:20+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002bb280), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000220620), exp:-1}, 0, \"1V8M7IdWvbDJXEjZyMLmfA8igwd\", \"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", 2, 1, \"红包金额支付\", \"1V8M7J4wTXeK1gtSggZvM6IxD7g\", \"10001\", \"系统红包账户\"}\nTime taken:     0.03359s\nContext:        context.Background"
time="2019-12-18T08:48:20+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.02101s\nContext:        context.Background"
time="2019-12-18T08:48:20+08:00" level=debug msg="\n"
time="2019-12-18T08:48:20+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1V8M7P4pnwEVt7277pYFuwvVU16\", \"测试用户1\", 2, 1, \"红包金额转入\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"1V8M7J4wTXeK1gtSggZvM6IxD7g\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002212a0), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc000220ba0), exp:-1}}\nTime taken:     0.04301s\nContext:        context.Background"
time="2019-12-18T08:48:21+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"-18.8\"}\nTime taken:     0.81711s\nContext:        context.Background"
time="2019-12-18T08:48:21+08:00" level=debug msg="\n"
time="2019-12-18T08:48:21+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7PYmO8hCk6B9dhSDGybJenW\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额转入\", \"1V8M7J4wTXeK1gtSggZvM6IxD7g\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc000220ba0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002bbaa0), exp:-1}, 0}\nTime taken:     0.02300s\nContext:        context.Background"
time="2019-12-18T08:48:21+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8M7J4wTXeK1gtSggZvM6IxD7g\"}\nTime taken:     0.02149s\nContext:        context.Background"
time="2019-12-18T08:48:21+08:00" level=debug msg="\n"
time="2019-12-18T08:48:21+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`envelope_type`,`blessing`,`amount`,`amount_one`,`status`,`pay_status`,`username`,`user_id`,`remain_amount`,`remain_quantity`,`expired_at`,`order_type`,`envelope_no`,`quantity`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000221c60), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00016c2a0), exp:0}, 1, 2, sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8M6bGWng2LOmMvImSzs7eUAFo\", decimal.Decimal{value:(*big.Int)(0xc000221c60), exp:-1}, 10, time.Time{wall:0xbf76d01574ee5848, ext:86440186437801, loc:(*time.Location)(0x1331160)}, 1, \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", 10}\nTime taken:     0.01796s\nContext:        context.Background"
time="2019-12-18T08:48:22+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"-18.8\"}\nTime taken:     0.01500s\nContext:        context.Background"
time="2019-12-18T08:48:22+08:00" level=debug msg="\n"
time="2019-12-18T08:48:22+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00016c9a0), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc00016c640), exp:-1}, \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"10000020190101010000000000000001\", \"1V8M7cgSPVnuqsuMPSyG6a5E6uh\", \"系统红包账户\", -2, -1, \"红包金额支付\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\"}\nTime taken:     0.01600s\nContext:        context.Background"
time="2019-12-18T08:48:22+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.02051s\nContext:        context.Background"
time="2019-12-18T08:48:22+08:00" level=debug msg="\n"
time="2019-12-18T08:48:22+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7e6Imk9QrIz7GesoivBlHDb\", \"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", 1, \"红包金额支付\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", 2, \"系统红包账户\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", decimal.Decimal{value:(*big.Int)(0xc00016c640), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0003b0160), exp:-1}, 0}\nTime taken:     0.01948s\nContext:        context.Background"
time="2019-12-18T08:48:22+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"18.8\", \"10000020190101010000000000000001\", \"18.8\"}\nTime taken:     0.01700s\nContext:        context.Background"
time="2019-12-18T08:48:23+08:00" level=debug msg="\n"
time="2019-12-18T08:48:23+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0003b0680), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc0003b03c0), exp:-1}, \"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1V8M7dAyRQTdkgVfmU11GixY4aq\", \"测试用户1\", 2, 1, \"红包金额转入\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.03850s\nContext:        context.Background"
time="2019-12-18T08:48:23+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-18.8\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"-18.8\"}\nTime taken:     0.02850s\nContext:        context.Background"
time="2019-12-18T08:48:23+08:00" level=debug msg="\n"
time="2019-12-18T08:48:23+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0003b03c0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0003b0be0), exp:-1}, 0, \"1V8M7qaTATdtTMyqzHXHlqRpnrR\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额转入\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\"}\nTime taken:     0.01900s\nContext:        context.Background"
time="2019-12-18T08:48:24+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.04961s\nContext:        context.Background"
time="2019-12-18T08:48:24+08:00" level=debug msg="\n"
time="2019-12-18T08:48:24+08:00" level=debug msg="\n"
time="2019-12-18T08:48:25+08:00" level=debug msg="\n"
time="2019-12-18T08:48:25+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1.88\"}\nTime taken:     0.01900s\nContext:        context.Background"
time="2019-12-18T08:48:25+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`amount`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c9900), exp:-16}, 1, decimal.Decimal{value:(*big.Int)(0xc0002c9be0), exp:-16}, \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", 2, \"1V8M7vws6OXmq1UtNSY832kNe7T\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户1\", Valid:true}, \"测试用户1的碰运气红包\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\"}\nTime taken:     0.02350s\nContext:        context.Background"
time="2019-12-18T08:48:25+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.03050s\nContext:        context.Background"
time="2019-12-18T08:48:25+08:00" level=debug msg="\n"
time="2019-12-18T08:48:25+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c9d80), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000590180), exp:-2}, 0, \"1V8M83BkJ34GyMfmIIQOBja773T\", \"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01951s\nContext:        context.Background"
time="2019-12-18T08:48:26+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1.88\"}\nTime taken:     0.80107s\nContext:        context.Background"
time="2019-12-18T08:48:26+08:00" level=debug msg="\n"
time="2019-12-18T08:48:26+08:00" level=debug msg="\nQuery:          insert into `account_log`(`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户1\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", decimal.Decimal{value:(*big.Int)(0xc0002c9d80), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016ce60), exp:-2}, 0, \"1V8M7zoZKPW7181zXEKQEOCJU8D\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"10000020190101010000000000000001\", 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", 2}\nTime taken:     0.04350s\nContext:        context.Background"
time="2019-12-18T08:48:26+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"1.88\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"1.88\"}\nTime taken:     0.02300s\nContext:        context.Background"
time="2019-12-18T08:48:26+08:00" level=debug msg="\n"
time="2019-12-18T08:48:26+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc00016d100), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000590620), exp:-2}, 0, \"1V8M86Y8lLgWlggrVhtOgn56qRj\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.02051s\nContext:        context.Background"
time="2019-12-18T08:48:27+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-1.88\", \"10000020190101010000000000000001\", \"-1.88\"}\nTime taken:     0.02392s\nContext:        context.Background"
time="2019-12-18T08:48:27+08:00" level=debug msg="\n"
time="2019-12-18T08:48:27+08:00" level=debug msg="\nQuery:          insert into `account_log`(`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"系统红包账户\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", decimal.Decimal{value:(*big.Int)(0xc00016d100), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000590b40), exp:-2}, 0, \"1V8M8EkHe6o2IpuGwobC78jMRXU\", \"10000020190101010000000000000001\", \"1V8M6dc6Ie9EYohSbkKkqUv28OK\", -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6bGWng2LOmMvImSzs7eUAFo\", \"测试用户1\", -2}\nTime taken:     0.01999s\nContext:        context.Background"
time="2019-12-18T08:48:27+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 1 1.88 1.88" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:27+08:00" level=debug msg="\n"
time="2019-12-18T08:48:28+08:00" level=debug msg="\n"
time="2019-12-18T08:48:28+08:00" level=debug msg="\n"
time="2019-12-18T08:48:28+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.62\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"0.62\"}\nTime taken:     0.02051s\nContext:        context.Background"
time="2019-12-18T08:48:28+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6iRJALUUN7DihDFPSBIuihl\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", 2, \"1V8M8PP9naWyjXN1YaFa2dAHEdE\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户2\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000220200), exp:-16}, 1, decimal.Decimal{value:(*big.Int)(0xc000220600), exp:-16}, \"测试用户1的碰运气红包\"}\nTime taken:     0.03199s\nContext:        context.Background"
time="2019-12-18T08:48:28+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.62\", \"10000020190101010000000000000001\", \"-0.62\"}\nTime taken:     0.02600s\nContext:        context.Background"
time="2019-12-18T08:48:29+08:00" level=debug msg="\n"
time="2019-12-18T08:48:29+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000220a20), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000221000), exp:-2}, 0, \"1V8M8NR7MtSx4eyItBeEOg1BTzr\", \"10000020190101010000000000000001\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.04450s\nContext:        context.Background"
time="2019-12-18T08:48:29+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.62\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"0.62\"}\nTime taken:     0.02047s\nContext:        context.Background"
time="2019-12-18T08:48:30+08:00" level=debug msg="\n"
time="2019-12-18T08:48:30+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"10000020190101010000000000000001\", \"1V8M8XtIiQUDBn2njIoUu1fcGWl\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", decimal.Decimal{value:(*big.Int)(0xc0002219e0), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc000220a20), exp:-2}}\nTime taken:     0.02916s\nContext:        context.Background"
time="2019-12-18T08:48:30+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.62\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", \"0.62\"}\nTime taken:     0.02057s\nContext:        context.Background"
time="2019-12-18T08:48:30+08:00" level=debug msg="\n"
time="2019-12-18T08:48:30+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_account_no`,`log_no`,`account_no`,`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10000020190101010000000000000001\", \"1V8M8fbSzcFXVk4GWmS4Fq7gBWw\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", \"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", 0, decimal.Decimal{value:(*big.Int)(0xc000221fa0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000004800), exp:-2}}\nTime taken:     0.02950s\nContext:        context.Background"
time="2019-12-18T08:48:30+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.62\", \"10000020190101010000000000000001\", \"-0.62\"}\nTime taken:     0.03002s\nContext:        context.Background"
time="2019-12-18T08:48:31+08:00" level=debug msg="\n"
time="2019-12-18T08:48:31+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6iRJALUUN7DihDFPSBIuihl\", \"测试用户2\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000221fa0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000005200), exp:0}, 0, \"1V8M8d7espFYtxcXtcFiBwJTA2l\", \"10000020190101010000000000000001\", \"1V8M6g9rVd24rX9v2f0Z6HsxaUM\"}\nTime taken:     0.02251s\nContext:        context.Background"
time="2019-12-18T08:48:31+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 2 2.5 0.62" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:31+08:00" level=debug msg="\n"
time="2019-12-18T08:48:31+08:00" level=debug msg="\n"
time="2019-12-18T08:48:31+08:00" level=debug msg="\n"
time="2019-12-18T08:48:31+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.32\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"0.32\"}\nTime taken:     0.00901s\nContext:        context.Background"
time="2019-12-18T08:48:31+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6l7Y3YpPHHavyKIhVttK5og\", 1, decimal.Decimal{value:(*big.Int)(0xc000263cc0), exp:-16}, \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", 2, \"1V8M8pijfKG50Gdf70KPEfPlWiQ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户3\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000263600), exp:-16}, \"测试用户1的碰运气红包\"}\nTime taken:     0.00903s\nContext:        context.Background"
time="2019-12-18T08:48:31+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.32\", \"10000020190101010000000000000001\", \"-0.32\"}\nTime taken:     0.00949s\nContext:        context.Background"
time="2019-12-18T08:48:31+08:00" level=debug msg="\n"
time="2019-12-18T08:48:32+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M8lvAUw1yxcOEZgJxGF3OJBs\", \"10000020190101010000000000000001\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"测试用户3\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000263e60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c81e0), exp:-2}, 0}\nTime taken:     0.83591s\nContext:        context.Background"
time="2019-12-18T08:48:32+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.32\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"0.32\"}\nTime taken:     0.03999s\nContext:        context.Background"
time="2019-12-18T08:48:32+08:00" level=debug msg="\n"
time="2019-12-18T08:48:32+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"测试用户3\", decimal.Decimal{value:(*big.Int)(0xc000263e60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c8880), exp:-2}, 0, \"1V8M8vuUggxwPXxQExXyvsV3AVW\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"10000020190101010000000000000001\"}\nTime taken:     0.02998s\nContext:        context.Background"
time="2019-12-18T08:48:32+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.32\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"0.32\"}\nTime taken:     0.02700s\nContext:        context.Background"
time="2019-12-18T08:48:33+08:00" level=debug msg="\n"
time="2019-12-18T08:48:33+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c91c0), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc0002c8c60), exp:-2}, \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"10000020190101010000000000000001\", \"1V8M8unwPo0IeQ6O0wf9wvCdNsd\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"测试用户3\"}\nTime taken:     0.03967s\nContext:        context.Background"
time="2019-12-18T08:48:33+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.32\", \"10000020190101010000000000000001\", \"-0.32\"}\nTime taken:     0.02206s\nContext:        context.Background"
time="2019-12-18T08:48:33+08:00" level=debug msg="\n"
time="2019-12-18T08:48:33+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M8z1gnjVSPSPgayXNOkD6IMl\", \"10000020190101010000000000000001\", \"1V8M6j6cI2p6wYYB1xQBO78cBh2\", \"1V8M6l7Y3YpPHHavyKIhVttK5og\", \"测试用户3\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002c8c60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002c98a0), exp:-2}, 0}\nTime taken:     0.02926s\nContext:        context.Background"
time="2019-12-18T08:48:33+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 3 2.82 0.32" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:34+08:00" level=debug msg="\n"
time="2019-12-18T08:48:34+08:00" level=debug msg="\n"
time="2019-12-18T08:48:34+08:00" level=debug msg="\n"
time="2019-12-18T08:48:34+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.51\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"3.51\"}\nTime taken:     0.02199s\nContext:        context.Background"
time="2019-12-18T08:48:34+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, decimal.Decimal{value:(*big.Int)(0xc0002ba140), exp:-16}, \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", 2, \"1V8M9BhSxj3kwG8oazx8lbglvPK\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户4\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000067ea0), exp:-16}, \"测试用户1的碰运气红包\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\"}\nTime taken:     0.04000s\nContext:        context.Background"
time="2019-12-18T08:48:35+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-3.51\", \"10000020190101010000000000000001\", \"-3.51\"}\nTime taken:     0.03052s\nContext:        context.Background"
time="2019-12-18T08:48:35+08:00" level=debug msg="\n"
time="2019-12-18T08:48:35+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M9L3c1si9YODmxVO5ItrdePe\", \"10000020190101010000000000000001\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002ba2e0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002ba680), exp:-2}, 0}\nTime taken:     0.02001s\nContext:        context.Background"
time="2019-12-18T08:48:35+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.51\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"3.51\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:48:36+08:00" level=debug msg="\n"
time="2019-12-18T08:48:36+08:00" level=debug msg="\nQuery:          insert into `account_log`(`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", 2, 1, \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc0002ba2e0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bab60), exp:-2}, 0, \"1V8M9F0glDCN8ULL3Q64l8eWIIJ\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"10000020190101010000000000000001\"}\nTime taken:     0.03929s\nContext:        context.Background"
time="2019-12-18T08:48:36+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.51\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"3.51\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:48:36+08:00" level=debug msg="\n"
time="2019-12-18T08:48:36+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc0002badc0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bb0e0), exp:-2}, 0, \"1V8M9NRAdA8EDMEa1vE3IhsFLo5\", \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.01600s\nContext:        context.Background"
time="2019-12-18T08:48:36+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-3.51\", \"10000020190101010000000000000001\", \"-3.51\"}\nTime taken:     0.02100s\nContext:        context.Background"
time="2019-12-18T08:48:36+08:00" level=debug msg="\n"
time="2019-12-18T08:48:36+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{-2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6oiusX4ORimIDCEFxoHVDsl\", \"测试用户4\", \"10001\", \"系统红包账户\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", 0, decimal.Decimal{value:(*big.Int)(0xc0002badc0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0002bb600), exp:-2}, \"1V8M6ldcNbCDpQ4XUNDYx0kXHpU\", \"1V8M9QtwyaHVzuJiqrH2FZy44kW\", \"10000020190101010000000000000001\"}\nTime taken:     0.01652s\nContext:        context.Background"
time="2019-12-18T08:48:37+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 4 6.33 3.51" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:37+08:00" level=debug msg="\n"
time="2019-12-18T08:48:37+08:00" level=debug msg="\n"
time="2019-12-18T08:48:37+08:00" level=debug msg="\n"
time="2019-12-18T08:48:37+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.36\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"0.36\"}\nTime taken:     0.02149s\nContext:        context.Background"
time="2019-12-18T08:48:37+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", 2, \"1V8M9XtwQmbUBMgJ6oViSgZNe7k\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户5\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031a360), exp:-16}, 1, decimal.Decimal{value:(*big.Int)(0xc00031a520), exp:-16}, \"测试用户1的碰运气红包\"}\nTime taken:     0.01800s\nContext:        context.Background"
time="2019-12-18T08:48:38+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.36\", \"10000020190101010000000000000001\", \"-0.36\"}\nTime taken:     0.01999s\nContext:        context.Background"
time="2019-12-18T08:48:38+08:00" level=debug msg="\n"
time="2019-12-18T08:48:38+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00031a6c0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000284a00), exp:-2}, 0, \"1V8M9e2o7IJ4TYXKbGynL2jTmmi\", \"10000020190101010000000000000001\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"测试用户5\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.03105s\nContext:        context.Background"
time="2019-12-18T08:48:38+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.36\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"0.36\"}\nTime taken:     0.01354s\nContext:        context.Background"
time="2019-12-18T08:48:39+08:00" level=debug msg="\n"
time="2019-12-18T08:48:39+08:00" level=debug msg="\nQuery:          insert into `account_log`(`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`,`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"测试用户5\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", 0, decimal.Decimal{value:(*big.Int)(0xc00031a6c0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285040), exp:-2}, \"10000020190101010000000000000001\", \"1V8M9h2cZUJ9tM0y0O8SLumc27Q\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.03750s\nContext:        context.Background"
time="2019-12-18T08:48:39+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.36\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"0.36\"}\nTime taken:     0.04500s\nContext:        context.Background"
time="2019-12-18T08:48:39+08:00" level=debug msg="\n"
time="2019-12-18T08:48:40+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", 2, \"测试用户5\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", decimal.Decimal{value:(*big.Int)(0xc000285400), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285700), exp:-2}, 0, \"1V8M9m2GkKOWV9wnEdNnLXIGWdI\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"10000020190101010000000000000001\"}\nTime taken:     0.81955s\nContext:        context.Background"
time="2019-12-18T08:48:40+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.36\", \"10000020190101010000000000000001\", \"-0.36\"}\nTime taken:     0.03900s\nContext:        context.Background"
time="2019-12-18T08:48:40+08:00" level=debug msg="\n"
time="2019-12-18T08:48:40+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M9vJk0c8iakKuPidw6HDOEqO\", \"10000020190101010000000000000001\", \"1V8M6jmhvwBZzPVY6NVTbLa0Xjs\", \"1V8M6iiHb3ux5ZD9nb8XmWaemtQ\", \"测试用户5\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000285400), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000285c40), exp:-2}, 0}\nTime taken:     0.03354s\nContext:        context.Background"
time="2019-12-18T08:48:40+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 5 6.69 0.36" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:40+08:00" level=debug msg="\n"
time="2019-12-18T08:48:41+08:00" level=debug msg="\n"
time="2019-12-18T08:48:41+08:00" level=debug msg="\n"
time="2019-12-18T08:48:41+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"4.42\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"4.42\"}\nTime taken:     0.01900s\nContext:        context.Background"
time="2019-12-18T08:48:41+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`recv_user_id`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`desc`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", decimal.Decimal{value:(*big.Int)(0xc0003b0b40), exp:-16}, \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", 2, \"1V8MA03WdygbRb8kVKYMVR1xY4F\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户6\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0003b0980), exp:-16}, 1, \"测试用户1的碰运气红包\"}\nTime taken:     0.01798s\nContext:        context.Background"
time="2019-12-18T08:48:41+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-4.42\", \"10000020190101010000000000000001\", \"-4.42\"}\nTime taken:     0.03100s\nContext:        context.Background"
time="2019-12-18T08:48:41+08:00" level=debug msg="\n"
time="2019-12-18T08:48:41+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0003b0ce0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016c420), exp:-1}, 0, \"1V8MA37iDkoWmgJXF8BlJrxSB7S\", \"10000020190101010000000000000001\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", \"测试用户6\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.00999s\nContext:        context.Background"
time="2019-12-18T08:48:42+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"4.42\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"4.42\"}\nTime taken:     0.78014s\nContext:        context.Background"
time="2019-12-18T08:48:42+08:00" level=debug msg="\n"
time="2019-12-18T08:48:42+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", 2, \"测试用户6\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", decimal.Decimal{value:(*big.Int)(0xc0003b0ce0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016ca40), exp:-2}, 0, \"1V8MA2LbGMDT3bIsi3ePtfBCnlb\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"10000020190101010000000000000001\"}\nTime taken:     0.03551s\nContext:        context.Background"
time="2019-12-18T08:48:42+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"4.42\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"4.42\"}\nTime taken:     0.02050s\nContext:        context.Background"
time="2019-12-18T08:48:42+08:00" level=debug msg="\n"
time="2019-12-18T08:48:42+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", \"测试用户6\", decimal.Decimal{value:(*big.Int)(0xc00016cce0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016d000), exp:-2}, 0, \"1V8MA8GsVEezg5evsBVNJoo3q74\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"10000020190101010000000000000001\"}\nTime taken:     0.01948s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-4.42\", \"10000020190101010000000000000001\", \"-4.42\"}\nTime taken:     0.79461s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=debug msg="\n"
time="2019-12-18T08:48:43+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MADvpAGZgKHIRg0a65MzYsO7\", \"10000020190101010000000000000001\", \"1V8M6qOnhXMG1sc3MsJo4b4zGvx\", \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6x0uQnt7v0bfEfPYVCC1Fie\", \"测试用户6\", -2, -1, \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00016cce0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00016dc40), exp:-2}, 0}\nTime taken:     0.02201s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 6 11.11 4.42" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:43+08:00" level=debug msg="\n"
time="2019-12-18T08:48:43+08:00" level=debug msg="\n"
time="2019-12-18T08:48:43+08:00" level=debug msg="\n"
time="2019-12-18T08:48:43+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.45\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"0.45\"}\nTime taken:     0.01051s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`pay_status`,`item_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户7\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031ad20), exp:-16}, 1, decimal.Decimal{value:(*big.Int)(0xc0003b0f00), exp:-16}, \"1V8M6w8aSFAggF3D7uxRGf3dXPN\", 2, \"1V8MAJ916hg5UEU1U4MBugCaeYT\", \"测试用户1的碰运气红包\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\"}\nTime taken:     0.01000s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.45\", \"10000020190101010000000000000001\", \"-0.45\"}\nTime taken:     0.01498s\nContext:        context.Background"
time="2019-12-18T08:48:43+08:00" level=debug msg="\n"
time="2019-12-18T08:48:44+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", \"测试用户7\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0003b10a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0003b1400), exp:-2}, 0, \"1V8MAF4ia2PchQw9DstG19tnhYN\", \"10000020190101010000000000000001\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\"}\nTime taken:     0.79853s\nContext:        context.Background"
time="2019-12-18T08:48:44+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.45\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\", \"0.45\"}\nTime taken:     0.01806s\nContext:        context.Background"
time="2019-12-18T08:48:44+08:00" level=debug msg="\n"
time="2019-12-18T08:48:44+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", \"测试用户7\", decimal.Decimal{value:(*big.Int)(0xc0003b10a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031b120), exp:-2}, 0, \"1V8MANBgRgE3JzYAAmzI9G2ZkWV\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.01850s\nContext:        context.Background"
time="2019-12-18T08:48:44+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.45\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\", \"0.45\"}\nTime taken:     0.02003s\nContext:        context.Background"
time="2019-12-18T08:48:44+08:00" level=debug msg="\n"
time="2019-12-18T08:48:44+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", \"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", \"测试用户7\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", 0, decimal.Decimal{value:(*big.Int)(0xc00031b380), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031b680), exp:-1}, \"10000020190101010000000000000001\", \"1V8MANVEeUdh2Ehi8FxZMqFIVYQ\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\"}\nTime taken:     0.02350s\nContext:        context.Background"
time="2019-12-18T08:48:45+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.45\", \"10000020190101010000000000000001\", \"-0.45\"}\nTime taken:     0.80004s\nContext:        context.Background"
time="2019-12-18T08:48:45+08:00" level=debug msg="\n"
time="2019-12-18T08:48:45+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M6rfUUq9YhMBlTT6ZIWa7SFT\", \"测试用户7\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00031b380), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc00031bba0), exp:-2}, 0, \"1V8MASN46KeMxSdxOimdmTOFzPi\", \"10000020190101010000000000000001\", \"1V8M6w8aSFAggF3D7uxRGf3dXPN\"}\nTime taken:     0.02184s\nContext:        context.Background"
time="2019-12-18T08:48:45+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 7 11.56 0.45" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:45+08:00" level=debug msg="\n"
time="2019-12-18T08:48:45+08:00" level=debug msg="\n"
time="2019-12-18T08:48:45+08:00" level=debug msg="\n"
time="2019-12-18T08:48:45+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.88\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"3.88\"}\nTime taken:     0.02208s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M71s54pYwx3YPoqna8jPAs79\", 2, \"1V8MAZIuGvtbyRfLpRarazWbfpb\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户8\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0003b1e40), exp:-16}, 1, decimal.Decimal{value:(*big.Int)(0xc0005ca000), exp:-16}, \"测试用户1的碰运气红包\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\"}\nTime taken:     0.77493s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-3.88\", \"10000020190101010000000000000001\", \"-3.88\"}\nTime taken:     0.01107s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\n"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0005ca1a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005ca4e0), exp:0}, 0, \"1V8MAewSoazj6l99ENxCeQO24kJ\", \"10000020190101010000000000000001\", \"1V8M71s54pYwx3YPoqna8jPAs79\", \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"测试用户8\", -2, -1, \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.88\", \"1V8M71s54pYwx3YPoqna8jPAs79\", \"3.88\"}\nTime taken:     0.00898s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\n"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"测试用户8\", decimal.Decimal{value:(*big.Int)(0xc0005caa00), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc0005ca1a0), exp:-2}, \"1V8M71s54pYwx3YPoqna8jPAs79\", \"10000020190101010000000000000001\", \"1V8MAeKxKBcGHrXTPwZ2Dran7vT\"}\nTime taken:     0.00998s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"3.88\", \"1V8M71s54pYwx3YPoqna8jPAs79\", \"3.88\"}\nTime taken:     0.01649s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\n"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          insert into `account_log`(`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0005d0220), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc0005cac60), exp:-2}, \"1V8M71s54pYwx3YPoqna8jPAs79\", \"10000020190101010000000000000001\", \"1V8MAfZd6AtIf99nhKjsXj3ohK7\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"测试用户8\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-3.88\", \"10000020190101010000000000000001\", \"-3.88\"}\nTime taken:     0.01251s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=debug msg="\n"
time="2019-12-18T08:48:46+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M725KrmZfp75OyYVRnIQ0GnW\", \"测试用户8\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0005cac60), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005d0740), exp:-2}, 0, \"1V8MAfNqWoePejT7IbRD3aCa0A2\", \"10000020190101010000000000000001\", \"1V8M71s54pYwx3YPoqna8jPAs79\"}\nTime taken:     0.01750s\nContext:        context.Background"
time="2019-12-18T08:48:46+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 8 15.44 3.88" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:47+08:00" level=debug msg="\n"
time="2019-12-18T08:48:47+08:00" level=debug msg="\n"
time="2019-12-18T08:48:47+08:00" level=debug msg="\n"
time="2019-12-18T08:48:47+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.56\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"0.56\"}\nTime taken:     0.01249s\nContext:        context.Background"
time="2019-12-18T08:48:47+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`remain_amount`,`account_no`,`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0005d1400), exp:-16}, \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", 2, \"1V8MArM15VJPh0JvUgrhMtylC0M\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户9\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0005d1240), exp:-16}, 1, \"测试用户1的碰运气红包\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\"}\nTime taken:     0.01400s\nContext:        context.Background"
time="2019-12-18T08:48:47+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.56\", \"10000020190101010000000000000001\", \"-0.56\"}\nTime taken:     0.03350s\nContext:        context.Background"
time="2019-12-18T08:48:47+08:00" level=debug msg="\n"
time="2019-12-18T08:48:47+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"10000020190101010000000000000001\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"1V8MAq2dsJuoWdVXx1MAzGJGpnT\", \"测试用户9\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000590920), exp:-2}, 0, decimal.Decimal{value:(*big.Int)(0xc0005d15a0), exp:-2}}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.56\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"0.56\"}\nTime taken:     0.01601s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\n"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0005d15a0), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000590de0), exp:-2}, 0, \"1V8MAyDTH1VtdSzOBfELWqkyFqz\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"测试用户9\"}\nTime taken:     0.01150s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"0.56\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"0.56\"}\nTime taken:     0.01000s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\n"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MArrFFI48yG4F4muvt6npjIH\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"测试用户9\", decimal.Decimal{value:(*big.Int)(0xc000591080), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc000591380), exp:-2}, 0}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-0.56\", \"10000020190101010000000000000001\", \"-0.56\"}\nTime taken:     0.01255s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=debug msg="\n"
time="2019-12-18T08:48:48+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc000591080), exp:-2}, decimal.Decimal{value:(*big.Int)(0xc0005cb320), exp:0}, 0, \"1V8MAz2QDI6PBayjIXfyvKXDDer\", \"10000020190101010000000000000001\", \"1V8M714V4Q8GJ0eh9bEdFPMpCE9\", \"1V8M75o5Wi7GEBbYvhbqIrvyTaR\", \"测试用户9\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.01200s\nContext:        context.Background"
time="2019-12-18T08:48:48+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 9 16 0.56" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:48+08:00" level=debug msg="\n"
time="2019-12-18T08:48:48+08:00" level=debug msg="\n"
time="2019-12-18T08:48:49+08:00" level=debug msg="\n"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          update red_envelope_goods set remain_amount=remain_amount-CAST(? AS DECIMAL(30,6)), remain_quantity=remain_quantity-1 where envelope_no=? and remain_quantity>0 and remain_amount >= CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"2.8\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"2.8\"}\nTime taken:     0.00845s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          insert into `red_envelope_item`(`pay_status`,`item_no`,`envelope_no`,`recv_username`,`amount`,`quantity`,`remain_amount`,`account_no`,`desc`,`recv_user_id`) values(?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, \"1V8MB0V014r5KYkUxoBIP1I3mLK\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", sql.NullString{String:\"测试用户10\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00016c640), exp:-1}, 1, decimal.Decimal{value:(*big.Int)(0xc00031a1c0), exp:-1}, \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"测试用户1的碰运气红包\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\"}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-2.8\", \"10000020190101010000000000000001\", \"-2.8\"}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\n"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MB1Fg3dXn7XqGKYKeEYM2g1q\", \"10000020190101010000000000000001\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", \"测试用户10\", -2, -1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00031a360), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031a620), exp:-1}, 0}\nTime taken:     0.00997s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"2.8\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"2.8\"}\nTime taken:     0.00850s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\n"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"10000020190101010000000000000001\", \"1V8MB1ZkOCW1DeKroX3deFxULb9\", \"系统红包账户\", 2, 1, \"红包扣减：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", \"测试用户10\", decimal.Decimal{value:(*big.Int)(0xc00031ab00), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc00031a360), exp:-1}}\nTime taken:     0.00750s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"2.8\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"2.8\"}\nTime taken:     0.00998s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\n"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", \"测试用户10\", decimal.Decimal{value:(*big.Int)(0xc00031ad60), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031b060), exp:-1}, 0, \"1V8MB1gRDTvCoNuqFEgf48aK9Lb\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", 2, 1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\"}\nTime taken:     0.00846s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-2.8\", \"10000020190101010000000000000001\", \"-2.8\"}\nTime taken:     0.00850s\nContext:        context.Background"
time="2019-12-18T08:48:49+08:00" level=debug msg="\n"
time="2019-12-18T08:48:50+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc00031ad60), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc00031b580), exp:-1}, 0, \"1V8MB4hUMggirnwoYaEoItIx4bK\", \"10000020190101010000000000000001\", \"1V8M7ALQvob8xaZqybQ3EfTO5sz\", \"1V8M76DF9CK9GRgxEShbE2rC0pa\", \"测试用户10\", -2, -1, \"红包收入：1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"1V8M7TZwVnhIkZbWdfJTCBYICIJ\", \"10001\", \"系统红包账户\"}\nTime taken:     0.76953s\nContext:        context.Background"
time="2019-12-18T08:48:50+08:00" level=info msg="[goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2(envelopes/service_recieve_test.go:120)] 10 18.8 2.8" func=goRed/core/envelopes.TestRedEnvelopeService_Receive.func1.2 file="envelopes/service_recieve_test.go:120"
time="2019-12-18T08:48:50+08:00" level=debug msg="\n"
time="2019-12-18T08:48:50+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBCIxXJGChmyVeIDSCcQRXaA\", 1, \"CNY\", 1, \"测试账户1\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", sql.NullString{String:\"测试用户1\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00031bc00), exp:0}}\nTime taken:     0.04750s\nContext:        context.Background"
time="2019-12-18T08:48:50+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", 0, 0, \"账户创建\", \"1V8MBD7Pq2H1C37XghpDLcIpgTZ\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc00031bc00), exp:0}, decimal.Decimal{value:(*big.Int)(0xc00031bc00), exp:0}, 0, \"1V8MBD7Pq2H1C37XghpDLcIpgTZ\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\"}\nTime taken:     0.03550s\nContext:        context.Background"
time="2019-12-18T08:48:50+08:00" level=debug msg="\n"
time="2019-12-18T08:48:51+08:00" level=debug msg="\n"
time="2019-12-18T08:48:51+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBKJKXRCDWslIjt5Sw7Zu1P9\", 1, \"CNY\", 1, \"测试账户2\", \"1V8MBK94FHA8L5X4Ug2VssSWkaP\", sql.NullString{String:\"测试用户2\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002ba2e0), exp:0}}\nTime taken:     0.03250s\nContext:        context.Background"
time="2019-12-18T08:48:51+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBK94FHA8L5X4Ug2VssSWkaP\", \"测试用户2\", 0, 0, \"账户创建\", \"1V8MBHApLLC6bpV81B7pYn2dhOU\", \"1V8MBK94FHA8L5X4Ug2VssSWkaP\", \"测试用户2\", decimal.Decimal{value:(*big.Int)(0xc0002ba2e0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002ba2e0), exp:0}, 0, \"1V8MBHApLLC6bpV81B7pYn2dhOU\", \"1V8MBKJKXRCDWslIjt5Sw7Zu1P9\", \"1V8MBKJKXRCDWslIjt5Sw7Zu1P9\"}\nTime taken:     0.01900s\nContext:        context.Background"
time="2019-12-18T08:48:51+08:00" level=debug msg="\n"
time="2019-12-18T08:48:51+08:00" level=debug msg="\n"
time="2019-12-18T08:48:51+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBJdDS2VHi660riz4az0PpnW\", 1, \"CNY\", 1, \"测试账户3\", \"1V8MBFcB17IUPDh5v0rvK9NUf1V\", sql.NullString{String:\"测试用户3\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002bab20), exp:0}}\nTime taken:     0.01699s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`,`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBI5SC0KjRiEejCkQy2xV1JS\", \"1V8MBJdDS2VHi660riz4az0PpnW\", \"1V8MBJdDS2VHi660riz4az0PpnW\", 0, \"账户创建\", \"1V8MBFcB17IUPDh5v0rvK9NUf1V\", \"测试用户3\", 0, \"测试用户3\", \"1V8MBI5SC0KjRiEejCkQy2xV1JS\", \"1V8MBFcB17IUPDh5v0rvK9NUf1V\", decimal.Decimal{value:(*big.Int)(0xc0002bab20), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002bab20), exp:0}, 0}\nTime taken:     0.77957s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:52+08:00" level=debug msg="\nQuery:          insert into `account`(`account_type`,`currency_code`,`status`,`account_no`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{1, \"CNY\", 1, \"1V8MBSJfZDDWQt7mykoWumhY01C\", \"测试账户4\", \"1V8MBOHhjDY8gMjnoa2rwFLpbGb\", sql.NullString{String:\"测试用户4\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002bb2a0), exp:0}}\nTime taken:     0.01350s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBNOOhxr4CzLRZrwLpGGDYgO\", \"1V8MBOHhjDY8gMjnoa2rwFLpbGb\", \"测试用户4\", decimal.Decimal{value:(*big.Int)(0xc0002bb2a0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002bb2a0), exp:0}, 0, \"1V8MBNOOhxr4CzLRZrwLpGGDYgO\", \"1V8MBSJfZDDWQt7mykoWumhY01C\", \"1V8MBSJfZDDWQt7mykoWumhY01C\", \"账户创建\", \"1V8MBOHhjDY8gMjnoa2rwFLpbGb\", \"测试用户4\", 0, 0}\nTime taken:     0.01100s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:52+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBSlH6DgqHzP2HHRivRDn0dD\", 1, \"CNY\", 1, \"测试账户5\", \"1V8MBOwIf7dLrONHyrGUwtHF4w0\", sql.NullString{String:\"测试用户5\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc00016d060), exp:0}}\nTime taken:     0.01151s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBOgRGe8554Vn3H0D24UFKxn\", \"1V8MBSlH6DgqHzP2HHRivRDn0dD\", \"1V8MBSlH6DgqHzP2HHRivRDn0dD\", \"1V8MBOwIf7dLrONHyrGUwtHF4w0\", \"测试用户5\", 0, 0, \"账户创建\", \"1V8MBOgRGe8554Vn3H0D24UFKxn\", \"1V8MBOwIf7dLrONHyrGUwtHF4w0\", \"测试用户5\", decimal.Decimal{value:(*big.Int)(0xc00016d060), exp:0}, decimal.Decimal{value:(*big.Int)(0xc00016d060), exp:0}, 0}\nTime taken:     0.01549s\nContext:        context.Background"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:52+08:00" level=debug msg="\n"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`envelope_no`,`quantity`,`remain_amount`,`remain_quantity`,`expired_at`,`order_type`,`envelope_type`,`username`,`user_id`,`blessing`,`amount`,`amount_one`,`status`,`pay_status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBUtAuzAitk77aPXMvk5xq2l\", 3, decimal.Decimal{value:(*big.Int)(0xc0003b0bc0), exp:1}, 3, time.Time{wall:0xbf76d01d67cd3968, ext:86471966163301, loc:(*time.Location)(0x1331160)}, 1, 2, sql.NullString{String:\"测试用户1\", Valid:true}, \"1V8MBEByr6bCcRwEcqY0blLWHQO\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0003b0bc0), exp:1}, decimal.Decimal{value:(*big.Int)(0xc0003b0ec0), exp:0}, 1, 2}\nTime taken:     0.02450s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-10\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"-10\"}\nTime taken:     0.02400s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\n"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBUtAuzAitk77aPXMvk5xq2l\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", decimal.Decimal{value:(*big.Int)(0xc00016d760), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002840a0), exp:0}, 0, \"1V8MBW9xQJdEVaFfVeHWe0sW3DK\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"10000020190101010000000000000001\", \"红包金额支付\", \"10001\", \"系统红包账户\", -2, -1}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"10\", \"10000020190101010000000000000001\", \"10\"}\nTime taken:     0.01450s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\n"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBUtAuzAitk77aPXMvk5xq2l\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc00016d760), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0003b1160), exp:-1}, 0, \"1V8MBWaq7rKBZqFMt3niLWoVcm5\", \"10000020190101010000000000000001\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", 2, 1, \"红包金额支付\"}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"10\", \"10000020190101010000000000000001\", \"10\"}\nTime taken:     0.00949s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\n"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0003b1400), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0003b1740), exp:-1}, 0, \"1V8MBWCtgAnqDj1AqwSb4oKrWqi\", \"10000020190101010000000000000001\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", 2, 1, \"红包金额转入\", \"1V8MBUtAuzAitk77aPXMvk5xq2l\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01000s\nContext:        context.Background"
time="2019-12-18T08:48:53+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-10\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\", \"-10\"}\nTime taken:     0.00951s\nContext:        context.Background"
time="2019-12-18T08:48:54+08:00" level=debug msg="\n"
time="2019-12-18T08:48:54+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{-2, -1, \"红包金额转入\", \"10001\", \"系统红包账户\", \"1V8MBEByr6bCcRwEcqY0blLWHQO\", \"测试用户1\", \"1V8MBUtAuzAitk77aPXMvk5xq2l\", 0, decimal.Decimal{value:(*big.Int)(0xc0003b1400), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0003b1ce0), exp:0}, \"10000020190101010000000000000001\", \"1V8MBVHRIuGz9gfxqiQuhBiZTyo\", \"1V8MBCIxXJGChmyVeIDSCcQRXaA\"}\nTime taken:     0.02800s\nContext:        context.Background"
time="2019-12-18T08:48:54+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8MBUtAuzAitk77aPXMvk5xq2l\"}\nTime taken:     0.02000s\nContext:        context.Background"
time="2019-12-18T08:48:54+08:00" level=debug msg="\n"
time="2019-12-18T08:48:54+08:00" level=debug msg="\n"
time="2019-12-18T08:48:55+08:00" level=debug msg="\nQuery:          insert into `account`(`username`,`balance`,`account_name`,`user_id`,`status`,`account_no`,`account_type`,`currency_code`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{sql.NullString{String:\"测试用户酷酷酷\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000284b80), exp:0}, \"测试账户\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", 1, \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", 1, \"CNY\"}\nTime taken:     0.04900s\nContext:        context.Background"
time="2019-12-18T08:48:55+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`decs`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBoxXTWi8fixWkAbDtnIOyxU\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"账户创建\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", 0, 0, \"1V8MBoxXTWi8fixWkAbDtnIOyxU\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", decimal.Decimal{value:(*big.Int)(0xc000284b80), exp:0}, decimal.Decimal{value:(*big.Int)(0xc000284b80), exp:0}, 0}\nTime taken:     0.06350s\nContext:        context.Background"
time="2019-12-18T08:48:55+08:00" level=debug msg="\n"
time="2019-12-18T08:48:55+08:00" level=debug msg="\n"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`username`,`user_id`,`blessing`,`amount`,`amount_one`,`status`,`pay_status`,`envelope_no`,`quantity`,`remain_amount`,`remain_quantity`,`expired_at`,`order_type`,`envelope_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{sql.NullString{String:\"测试用户酷酷酷\", Valid:true}, \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002bbdc0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002c82a0), exp:-2}, 1, 2, \"1V8MBmLpVW9dd7DC58S96NpcN7Q\", 10, decimal.Decimal{value:(*big.Int)(0xc0002bbdc0), exp:-1}, 10, time.Time{wall:0xbf76d01df5b52540, ext:86474199466301, loc:(*time.Location)(0x1331160)}, 1, 1}\nTime taken:     0.76575s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-88.8\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"-88.8\"}\nTime taken:     0.01500s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\n"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"系统红包账户\", -2, -1, \"红包金额支付\", \"10001\", \"1V8MBmLpVW9dd7DC58S96NpcN7Q\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", decimal.Decimal{value:(*big.Int)(0xc000262980), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc0002bbfc0), exp:-1}, \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"10000020190101010000000000000001\", \"1V8MBuBPd7ptZg8YEL8G7a9lqnJ\"}\nTime taken:     0.01450s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"88.8\", \"10000020190101010000000000000001\", \"88.8\"}\nTime taken:     0.01400s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\n"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          insert into `account_log`(`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBmLpVW9dd7DC58S96NpcN7Q\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002bbfc0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000263da0), exp:-1}, 0, \"1V8MBz5QDEdqaeQywJHDO3muYWy\", \"10000020190101010000000000000001\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", 2, 1, \"红包金额支付\"}\nTime taken:     0.01500s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"88.8\", \"10000020190101010000000000000001\", \"88.8\"}\nTime taken:     0.01250s\nContext:        context.Background"
time="2019-12-18T08:48:56+08:00" level=debug msg="\n"
time="2019-12-18T08:48:56+08:00" level=debug msg="\nQuery:          insert into `account_log`(`change_type`,`change_flag`,`decs`,`target_user_id`,`target_username`,`user_id`,`username`,`trade_no`,`status`,`amount`,`balance`,`target_account_no`,`log_no`,`account_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{2, 1, \"红包金额转入\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", \"10001\", \"系统红包账户\", \"1V8MBmLpVW9dd7DC58S96NpcN7Q\", 0, decimal.Decimal{value:(*big.Int)(0xc0002854e0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc0002857e0), exp:0}, \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"1V8MBtrj9aXoLgZza0wLuyFhp5R\", \"10000020190101010000000000000001\"}\nTime taken:     0.01300s\nContext:        context.Background"
time="2019-12-18T08:48:57+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-88.8\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"-88.8\"}\nTime taken:     0.03026s\nContext:        context.Background"
time="2019-12-18T08:48:57+08:00" level=debug msg="\n"
time="2019-12-18T08:48:57+08:00" level=debug msg="\nQuery:          insert into `account_log`(`username`,`trade_no`,`user_id`,`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`change_flag`,`decs`,`target_user_id`,`target_username`,`change_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户酷酷酷\", \"1V8MBmLpVW9dd7DC58S96NpcN7Q\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", decimal.Decimal{value:(*big.Int)(0xc0002854e0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000285c60), exp:-1}, 0, \"1V8MC4JN2WVve6ANwWrNwEQOqdg\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"10000020190101010000000000000001\", -1, \"红包金额转入\", \"10001\", \"系统红包账户\", -2}\nTime taken:     0.03550s\nContext:        context.Background"
time="2019-12-18T08:48:58+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8MBmLpVW9dd7DC58S96NpcN7Q\"}\nTime taken:     0.02208s\nContext:        context.Background"
time="2019-12-18T08:48:58+08:00" level=debug msg="\n"
time="2019-12-18T08:48:58+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`amount_one`,`status`,`pay_status`,`username`,`user_id`,`blessing`,`amount`,`expired_at`,`order_type`,`envelope_no`,`quantity`,`remain_amount`,`remain_quantity`,`envelope_type`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc000067840), exp:0}, 1, 2, sql.NullString{String:\"测试用户酷酷酷\", Valid:true}, \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc000066cc0), exp:-1}, time.Time{wall:0xbf76d01eae1a3730, ext:86477071872301, loc:(*time.Location)(0x1331160)}, 1, \"1V8MC9bPIhnTcnx6peJRrdzpU3h\", 10, decimal.Decimal{value:(*big.Int)(0xc000066cc0), exp:-1}, 10, 2}\nTime taken:     0.01351s\nContext:        context.Background"
time="2019-12-18T08:48:58+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-88.8\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"-88.8\"}\nTime taken:     0.00950s\nContext:        context.Background"
time="2019-12-18T08:48:58+08:00" level=debug msg="\n"
time="2019-12-18T08:48:58+08:00" level=debug msg="\nQuery:          insert into `account_log`(`account_no`,`target_account_no`,`log_no`,`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"10000020190101010000000000000001\", \"1V8MCCkxJP938HJXZ8HyAN3q3jQ\", \"系统红包账户\", -2, -1, \"红包金额支付\", \"10001\", \"1V8MC9bPIhnTcnx6peJRrdzpU3h\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", decimal.Decimal{value:(*big.Int)(0xc0000046e0), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc000067d60), exp:-1}}\nTime taken:     0.01050s\nContext:        context.Background"
time="2019-12-18T08:48:58+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"88.8\", \"10000020190101010000000000000001\", \"88.8\"}\nTime taken:     0.01100s\nContext:        context.Background"
time="2019-12-18T08:48:59+08:00" level=debug msg="\n"
time="2019-12-18T08:48:59+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户酷酷酷\", 2, 1, \"红包金额支付\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"1V8MC9bPIhnTcnx6peJRrdzpU3h\", \"10001\", \"系统红包账户\", decimal.Decimal{value:(*big.Int)(0xc0002c89e0), exp:-1}, 0, decimal.Decimal{value:(*big.Int)(0xc000067d60), exp:-1}, \"10000020190101010000000000000001\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"1V8MCDSamoXU6Vx9zuUxeqhFWWx\"}\nTime taken:     0.04200s\nContext:        context.Background"
time="2019-12-18T08:48:59+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"88.8\", \"10000020190101010000000000000001\", \"88.8\"}\nTime taken:     0.03350s\nContext:        context.Background"
time="2019-12-18T08:48:59+08:00" level=debug msg="\n"
time="2019-12-18T08:48:59+08:00" level=debug msg="\nQuery:          insert into `account_log`(`amount`,`balance`,`status`,`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{decimal.Decimal{value:(*big.Int)(0xc0002c8fc0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000005000), exp:-1}, 0, \"1V8MCLz0pWnSLL1S2qpPSYDDyQM\", \"10000020190101010000000000000001\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", 2, 1, \"红包金额转入\", \"1V8MC9bPIhnTcnx6peJRrdzpU3h\", \"10001\", \"系统红包账户\"}\nTime taken:     0.01950s\nContext:        context.Background"
time="2019-12-18T08:48:59+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-88.8\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"-88.8\"}\nTime taken:     0.01950s\nContext:        context.Background"
time="2019-12-18T08:48:59+08:00" level=debug msg="\n"
time="2019-12-18T08:49:00+08:00" level=debug msg="\nQuery:          insert into `account_log`(`log_no`,`account_no`,`target_account_no`,`target_user_id`,`target_username`,`change_type`,`change_flag`,`decs`,`trade_no`,`user_id`,`username`,`amount`,`balance`,`status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MCJImgVj9Bj6sKDFyliE8UAL\", \"1V8MBn6zf52pmG8CHTQc9Wnu4CP\", \"10000020190101010000000000000001\", \"10001\", \"系统红包账户\", -2, -1, \"红包金额转入\", \"1V8MC9bPIhnTcnx6peJRrdzpU3h\", \"1V8MBhMNtmkrYqen7Mb9Ol6HXsL\", \"测试用户酷酷酷\", decimal.Decimal{value:(*big.Int)(0xc0002c8fc0), exp:-1}, decimal.Decimal{value:(*big.Int)(0xc000005e80), exp:-1}, 0}\nTime taken:     0.82097s\nContext:        context.Background"
time="2019-12-18T08:49:00+08:00" level=debug msg="\nQuery:          update red_envelope_goods set pay_status=? where envelope_no=?\nArguments:      []interface {}{3, \"1V8MC9bPIhnTcnx6peJRrdzpU3h\"}\nTime taken:     0.02400s\nContext:        context.Background"
time="2019-12-18T08:49:00+08:00" level=debug msg="\n"
time="2019-12-18T08:49:01+08:00" level=debug msg="\nQuery:          insert into `account`(`account_no`,`account_type`,`currency_code`,`status`,`account_name`,`user_id`,`username`,`balance`) values(?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MCVVFs3jnyuepWAXogmb0xUB\", 1, \"CNY\", 1, \"测试账户A\", \"1V8MCQZNxnfEPgZzCGRqAeKlEC1\", sql.NullString{String:\"测试用户A\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0002210a0), exp:0}}\nTime taken:     0.03953s\nContext:        context.Background"
time="2019-12-18T08:49:01+08:00" level=debug msg="\nQuery:          insert into `account_log`(`target_username`,`change_type`,`change_flag`,`decs`,`target_user_id`,`trade_no`,`user_id`,`username`,`balance`,`status`,`amount`,`account_no`,`target_account_no`,`log_no`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"测试用户A\", 0, 0, \"账户创建\", \"1V8MCQZNxnfEPgZzCGRqAeKlEC1\", \"1V8MCW0fSQz2O2Kyh9onDiqfESj\", \"1V8MCQZNxnfEPgZzCGRqAeKlEC1\", \"测试用户A\", decimal.Decimal{value:(*big.Int)(0xc0002210a0), exp:0}, 0, decimal.Decimal{value:(*big.Int)(0xc0002210a0), exp:0}, \"1V8MCVVFs3jnyuepWAXogmb0xUB\", \"1V8MCVVFs3jnyuepWAXogmb0xUB\", \"1V8MCW0fSQz2O2Kyh9onDiqfESj\"}\nTime taken:     0.03900s\nContext:        context.Background"
time="2019-12-18T08:49:01+08:00" level=debug msg="\n"
time="2019-12-18T08:49:01+08:00" level=debug msg="\n"
time="2019-12-18T08:49:01+08:00" level=debug msg="\nQuery:          insert into `red_envelope_goods`(`envelope_no`,`quantity`,`remain_amount`,`remain_quantity`,`expired_at`,`order_type`,`envelope_type`,`username`,`user_id`,`blessing`,`amount`,`amount_one`,`status`,`pay_status`) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?)\nArguments:      []interface {}{\"1V8MCYzlX7hhehRYkpzdRLmcsId\", 10, decimal.Decimal{value:(*big.Int)(0xc0005ca1a0), exp:0}, 10, time.Time{wall:0xbf76d01f71da9e14, ext:86480134813301, loc:(*time.Location)(0x1331160)}, 1, 2, sql.NullString{String:\"测试用户A\", Valid:true}, \"1V8MCQZNxnfEPgZzCGRqAeKlEC1\", sql.NullString{String:\"恭喜发财，鸿富猪到！\", Valid:true}, decimal.Decimal{value:(*big.Int)(0xc0005ca1a0), exp:0}, decimal.Decimal{value:(*big.Int)(0xc0002c9560), exp:0}, 1, 2}\nTime taken:     0.01400s\nContext:        context.Background"
time="2019-12-18T08:49:02+08:00" level=debug msg="\nQuery:          update account set balance=balance+CAST(? AS DECIMAL(30,6)) where account_no=? and balance>=-1*CAST(? AS DECIMAL(30,6))\nArguments:      []interface {}{\"-11\", \"1V8MCVVFs3jnyuepWAXogmb0xUB\", \"-11\"}\nTime taken:     0.77781s\nContext:        context.Background"
time="2019-12-18T08:49:02+08:00" level=error msg="[github.com/kakaisaname/account/core/accounts.(*accountDomain).TransferWithContextTx(accounts/domain_account.go:159)] 余额不足" func="github.com/kakaisaname/account/core/accounts.(*accountDomain).TransferWithContextTx" file="accounts/domain_account.go:159"
time="2019-12-18T08:49:02+08:00" level=error msg="[goRed/core/envelopes.(*redEnvelopeService).SendOut(envelopes/service.go:52)] 余额不足" func="goRed/core/envelopes.(*redEnvelopeService).SendOut" file="envelopes/service.go:52"
time="2019-12-18T08:49:02+08:00" level=debug msg="\n"
